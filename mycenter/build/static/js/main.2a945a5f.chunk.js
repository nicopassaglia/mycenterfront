(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a.p+"static/media/logo-light.2753cf06.png"},39:function(e,t){e.exports="data:image/png;base64,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"},40:function(e,t,a){e.exports=a(93)},45:function(e,t,a){},46:function(e,t,a){},57:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(34),o=a(0),i=a.n(o),r=a(35),c=a.n(r),s=a(18),l=a(10),u=(a(45),a(4)),d=a(5),m=a(8),h=a(6),p=a(7),f=a(2),v=(a(46),a(36)),_=a.n(v),g=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={redirect:!1},a.logout=a.logout.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"logout",value:function(){sessionStorage.removeItem("id"),this.setState({redirect:!0})}},{key:"render",value:function(){return i.a.createElement("header",null,this.state.redirect?i.a.createElement(s.a,{to:"/"}):"",i.a.createElement("div",{className:"logo-wrapper"},i.a.createElement("img",{src:_.a,alt:"logo"})),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/clientes"},"Clientes")),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/new-venta"},"Nueva Venta")),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/stock"},"Stock")),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/caja"},"Caja")),i.a.createElement("a",null,i.a.createElement("button",{onClick:this.logout},"Cerrar Sesi\xf3n")))}}]),t}(o.Component),b=a(3),E=a.n(b),k=a(9),y=a(11),O=(a(57),a(19)),C=a.n(O),S=a(1),j=a.n(S);j.a.defaults.xsrfCookieName="csrftoken",j.a.defaults.xsrfHeaderName="X-CSRFTOKEN",j.a.defaults.withCredentials=!0;var w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={redirect:!1,url:"http://api.mycenter.rubick.co",csrftoken:C.a.get("csrftoken"),username:"",password:""},a.setRedirect=a.setRedirect.bind(Object(f.a)(Object(f.a)(a))),a.submitLogin=a.submitLogin.bind(Object(f.a)(Object(f.a)(a))),a.renderRedirect=a.renderRedirect.bind(Object(f.a)(Object(f.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(y.a)({},n,a))}},{key:"setRedirect",value:function(){this.setState({redirect:!0})}},{key:"renderRedirect",value:function(){if(this.state.redirect)return i.a.createElement(s.a,{to:"/"})}},{key:"submitLogin",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("username",this.state.username),t.append("password",this.state.password),e.next=5,j()({method:"POST",url:this.state.url+"/auth/login/",data:t,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(function(e){var t=this;console.log(e),null==C.a.get("sessionid")?alert("Datos incorrectos"):j.a.get(this.state.url+"/auth/user/").then(function(e){sessionStorage.setItem("id",e.data.pk),sessionStorage.setItem("oficina",e.data.office),t.setRedirect()})}.bind(this)).catch(function(e){alert("Datos incorrectos"),console.log(e)}).then(function(){});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"login-wrapper"},i.a.createElement("div",{className:"login-box"},this.renderRedirect(),i.a.createElement("form",null,i.a.createElement("input",{value:this.state.username,name:"username",onChange:this.handleInputChange,type:"text",placeholder:"Usuario"}),i.a.createElement("input",{value:this.state.password,name:"password",onChange:this.handleInputChange,type:"text",placeholder:"Clave"})),i.a.createElement("button",{onClick:this.submitLogin,id:"login-button"},"Ingresar")))}}]),t}(o.Component),x=(null!=sessionStorage.getItem("user-key")?i.a.createElement(g,null):i.a.createElement(w,null),o.Component,a(75),function(e){return e.children}),I=a(39),A=a.n(I),D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={redirect:!1,menus:{},url:"http://api.mycenter.rubick.co",locales:[]},a.setRedirect=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return i.a.createElement(s.a,{to:"/home"})},a.selectStore=function(e){sessionStorage.setItem("store-key",e),a.setRedirect()},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"getOffices",value:function(){var e=this,t=[];j.a.get(this.state.url+"/offices/").then(function(a){for(var n=0;n<a.data.length;n++)t[n]=[],t[n].id=a.data[n].id,t[n].direccion=a.data[n].address;e.setState({locales:t})})}},{key:"componentDidMount",value:function(){this.getOffices()}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"storeChoice-wrapper"},i.a.createElement("div",{className:"storeChoice-inner"},this.renderRedirect(),this.state.locales.map(function(t){return i.a.createElement("div",{onClick:function(){return e.selectStore(t.id)},className:"storeChoice-option"},i.a.createElement("img",{src:A.a}),i.a.createElement("p",null,t.direccion))}))))}}]),t}(o.Component),M=(a(76),function(e){return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("h1",null,"Bienvenido"))}),P=(a(77),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",clientes:[],arreglo_filtrado:[],filter_name:"",filter_dni:""},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,o=a.name;this.setState(Object(y.a)({},o,n),function(){return t.filter()})}},{key:"filter",value:function(){var e=this.state.clientes,t=this.state.filter_name,a=this.state.filter_dni;""!=t&&(e=e.filter(function(e){return e.last_name.toString().toLowerCase().includes(t.toLowerCase())})),""!=a&&(e=e.filter(function(e){return e.person_id.includes(a)})),this.setState({arreglo_filtrado:e})}},{key:"componentDidMount",value:function(){var e=this,t=[];j.a.get(this.state.url+"/clients/").then(function(a){for(var n=0;n<a.data.length;n++)t[n]=a.data[n];e.setState({clientes:t,arreglo_filtrado:t}),console.log(a)})}},{key:"render",value:function(){return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-display-clientes"},i.a.createElement("h1",null,"Clientes"),i.a.createElement("a",null,i.a.createElement(l.b,{to:"new-client"},"Nuevo Cliente")),i.a.createElement("input",{type:"text",name:"filter_name",onChange:this.handleInputChange,value:this.state.filter_name,placeholder:"Filtro por apellido"}),i.a.createElement("input",{type:"number",name:"filter_dni",onChange:this.handleInputChange,value:this.state.filter_dni,placeholder:"Filtro por dni"}),i.a.createElement("table",{id:"displayClientesTable"},i.a.createElement("tr",null,i.a.createElement("th",null,"Tipo de Documento"),i.a.createElement("th",null,"Nro Documento"),i.a.createElement("th",null,"Nombre"),i.a.createElement("th",null,"Mail"),i.a.createElement("th",null,"Genero"),i.a.createElement("th",null,"Numero Telefono"),i.a.createElement("th",null,"Acciones")),this.state.arreglo_filtrado.map(function(e){return i.a.createElement("tr",null,i.a.createElement("td",null,e.type_id),i.a.createElement("td",null,e.person_id),i.a.createElement("td",null,e.first_name," ",e.last_name),i.a.createElement("td",null,e.email),i.a.createElement("td",null,e.gender),i.a.createElement("td",null,e.number),i.a.createElement("td",null,i.a.createElement("a",null,i.a.createElement(l.b,{to:"/clientes/"+e.id},"Ver M\xe1s"))))}))))}}]),t}(o.Component)),T=(a(78),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).addClient=function(e){e.preventDefault(),j.a.post("http://api.mycenter.rubick.co/clients/",{first_name:a.state.first_name,last_name:a.state.last_name,type_id:a.state.type_id,person_id:a.state.person_id,email:a.state.email,gender:a.state.gender,number:a.state.number}).then(function(e){console.log(e),a.setState({redirect:!0})})},a.state={first_name:"",last_name:"",type_id:"DNI",person_id:"",email:"",gender:"M",number:"",redirect:!1},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(y.a)({},n,a))}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,this.state.redirect?i.a.createElement(s.a,{to:"/clientes"}):"",i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-new-client"},i.a.createElement("div",{className:"wrapper-form-new-client"},i.a.createElement("h1",null,"Nuevo Cliente"),i.a.createElement("form",{id:"form-new-client"},i.a.createElement("input",{onChange:this.handleInputChange,type:"text",name:"first_name",placeholder:"Nombre",value:this.state.first_name}),i.a.createElement("input",{onChange:this.handleInputChange,type:"text",name:"last_name",placeholder:"Apellido",value:this.state.last_name}),i.a.createElement("select",{onChange:this.handleInputChange,value:this.state.type_id,name:"type_id"},i.a.createElement("option",{value:"DNI"},"DNI"),i.a.createElement("option",{value:"PASS"},"Pasaporte")),i.a.createElement("input",{onChange:this.handleInputChange,value:this.state.person_id,type:"number",name:"person_id",placeholder:"Numero de Documento"}),i.a.createElement("input",{onChange:this.handleInputChange,value:this.state.email,type:"mail",name:"email",placeholder:"Email"}),i.a.createElement("select",{onChange:this.handleInputChange,value:this.state.gender,name:"gender"},i.a.createElement("option",{value:"M"},"Masculino"),i.a.createElement("option",{value:"F"},"Femenino"),i.a.createElement("option",{value:"O"},"Otro")),i.a.createElement("input",{value:this.state.number,onChange:this.handleInputChange,type:"number",name:"number",placeholder:"Numero de telefono sin espacios ni guiones"}),i.a.createElement("button",{onClick:function(t){return e.addClient(t)},id:"button-submit-new-client"},"Agregar")))))}}]),t}(o.Component)),N=(a(79),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",id_inbd:"",name:"",mail:"",gender:"",number:"",type_id:"",person_id:"",devices_urls:[],devices:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({id_inbd:t},function(){return e.fetchData()})}},{key:"fetchData",value:function(){var e=this;j.a.get(this.state.url+"/clients/"+this.state.id_inbd).then(function(t){e.setState({name:t.data.name,mail:t.data.email,gender:t.data.gender,number:t.data.number,type_id:t.data.type_id,person_id:t.data.person_id,devices:t.data.devices},function(){return e.getDevicesName()})})}},{key:"getDevicesName",value:function(){}},{key:"render",value:function(){return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-single-client"},i.a.createElement("p",null,i.a.createElement("strong",null,"Nombre:")," ",this.state.name),i.a.createElement("p",null,i.a.createElement("strong",null,"Email: "),this.state.mail),i.a.createElement("p",null,i.a.createElement("strong",null,"Telefono: "),this.state.number),i.a.createElement("p",null,i.a.createElement("strong",null,"Dispositivos: ")),i.a.createElement("div",{className:"devices-list-clients"},this.state.devices.map(function(e){return i.a.createElement("a",null,i.a.createElement(l.b,{to:"/devices/"+e.id},e.modelinfo.name," de ",e.capacity," GB - ",e.color," - IMEI: ",e.imei))})),i.a.createElement("a",{id:"button-new-device"},i.a.createElement(l.b,{to:"/devices/add/"+this.state.id_inbd},"Agregar Dispositivo"))))}}]),t}(o.Component)),R=(a(80),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).addDevice=function(e){e.preventDefault(),j.a.post("http://127.0.0.1:8000/devices/",{current_owner:"http://127.0.0.1:8000/clients/"+a.state.id_cliente+"/",imei:a.state.imei,password:a.state.password,color:a.state.color,model:a.state.modelo,notes:a.state.notes,capacity:a.state.capacidad}).then(function(e){console.log(e),a.setState({redirect:!0})})},a.state={url:"http://api.mycenter.rubick.co",id_cliente:"",modelo:"-1",color:"Plateado",capacidad:"",imei:"",password:"",notes:"",devices_models:[],redirect:!1},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(y.a)({},n,a))}},{key:"getDevicesModels",value:function(){var e=this,t=[];j.a.get(this.state.url+"/device_models/").then(function(a){for(var n=0;n<a.data.length;n++)t[n]=[],t[n].modelo=a.data[n].name,t[n].url=a.data[n].url;console.log(t),e.setState({devices_models:t})})}},{key:"componentDidMount",value:function(){var e=this.props.match.params.idCliente;this.setState({id_cliente:e}),this.getDevicesModels()}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,this.state.redirect?i.a.createElement(s.a,{to:"/clientes/"+this.state.id_cliente}):"",i.a.createElement(g,null),i.a.createElement("div",{className:"newdevice-wrapper"},i.a.createElement("div",{className:"newdevice-form-wrapper"},i.a.createElement("form",{id:"newdevice-form"},i.a.createElement("select",{value:this.state.modelo,name:"modelo",onChange:this.handleInputChange},i.a.createElement("option",{value:"-1"},"Seleccionar Dispositivo"),this.state.devices_models.map(function(e){return i.a.createElement("option",{value:e.url},e.modelo)})),i.a.createElement("select",{value:this.state.color,onChange:this.handleInputChange,name:"color"},i.a.createElement("option",{value:"Plateado"},"Plateado"),i.a.createElement("option",{value:"Negro"},"Negro"),i.a.createElement("option",{value:"Blanco"},"Blanco"),i.a.createElement("option",{value:"Dorado"},"Dorado"),i.a.createElement("option",{value:"Rosa"},"Rosa")),i.a.createElement("input",{type:"number",name:"capacidad",value:this.state.capacidad,placeholder:"Capacidad (GB)",onChange:this.handleInputChange}),i.a.createElement("input",{type:"text",name:"imei",value:this.state.imei,placeholder:"IMEI",onChange:this.handleInputChange}),i.a.createElement("input",{type:"text",name:"password",value:this.state.password,placeholder:"Clave telefono",onChange:this.handleInputChange}),i.a.createElement("textarea",{name:"notes",rows:"10",cols:"20",value:this.state.notes,placeholder:"Notas",onChange:this.handleInputChange}),i.a.createElement("button",{onClick:function(t){return e.addDevice(t)},id:"button-submit-new-client"},"Agregar")))))}}]),t}(o.Component)),B=(a(81),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",reparacion:!1,wet:!1,turns_on:!0,frontal_display:!0,touch_id:!0,volume_button:!0,lock_button:!0,mute_button:!0,speakers:!0,mic:!0,proximity_sensor:!0,frontal_camera:!0,rear_camera:!0,charge_pin:!0,general_aesthetics:!0,general_observations:"",is_paying:!1,productos:[],servicios:[],producto_actual:"-1",servicio_actual:"-1",service_office_actual:"-1",oficina_servicio_actual:"-1",listado_productos_orden:[],listado_servicios_orden:[],clientes:[],clientes_filtrado:[],filter_cliente_name:"",cliente_seleccionado:"-1",dispositivo_seleccionado:"-1",dispositivos_cliente:[],monto_total:0,monto_total_servicios:0,monto_total_productos:0,efectivo:0,credito:0,debito:0,redirect:!1,id_nueva_orden:"",stock:[],office_entity:"",client_entity:""},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a.sendOrder=a.sendOrder.bind(Object(f.a)(Object(f.a)(a))),a.addProductToOrder=a.addProductToOrder.bind(Object(f.a)(Object(f.a)(a))),a.addServiceToOrder=a.addServiceToOrder.bind(Object(f.a)(Object(f.a)(a))),a.updateAmountProductOrder=a.updateAmountProductOrder.bind(Object(f.a)(Object(f.a)(a))),a.calcularMontoTotalServicios=a.calcularMontoTotalServicios.bind(Object(f.a)(Object(f.a)(a))),a.calcularMontoTotalProductos=a.calcularMontoTotalProductos.bind(Object(f.a)(Object(f.a)(a))),a.removeItemProductos=a.removeItemProductos.bind(Object(f.a)(Object(f.a)(a))),a.changeMontoProductinOrder=a.changeMontoProductinOrder.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,o=a.name;if("cliente_seleccionado"===o||"dispositivo_seleccionado"===o){this.setState({listado_servicios_orden:[]},function(){return t.calcularMontoTotalServicios()})}if("cliente_seleccionado"===o&&"-1"!=n){var i=this.state.clientes.filter(function(e){return e.id==n});this.setState({client_entity:i[0].entidad})}"filter_cliente_name"===o&&this.filter(n),this.setState(Object(y.a)({},o,n))}},{key:"filter",value:function(e){var t=this.state.clientes;""!=e&&(t=t.filter(function(t){return t.nombre.toLowerCase().includes(e.toLowerCase())})),this.setState({clientes_filtrado:t})}},{key:"getWarrantyDate",value:function(e){var t=new Date;return t.setDate(t.getDate()+e),t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}},{key:"getClientes",value:function(){var e=this,t=[];j.a.get(this.state.url+"/clients/").then(function(a){for(var n=0;n<a.data.length;n++){t[n]=[],t[n].dni=a.data[n].person_id,t[n].id=a.data[n].id,t[n].nombre=a.data[n].first_name+" "+a.data[n].last_name,t[n].entidad=a.data[n].entity,t[n].dispositivos=[];for(var o=0;o<a.data[n].devices.length;o++)t[n].dispositivos[o]=[],t[n].dispositivos[o].modelo=a.data[n].devices[o].modelinfo.name,t[n].dispositivos[o].imei=a.data[n].devices[o].imei,t[n].dispositivos[o].url=a.data[n].devices[o].url,t[n].dispositivos[o].color=a.data[n].devices[o].color,t[n].dispositivos[o].capacity=a.data[n].devices[o].capacity,t[n].dispositivos[o].id=a.data[n].devices[o].id}console.log(t),e.setState({clientes:t,clientes_filtrado:t})})}},{key:"componentDidMount",value:function(){this.getProductos(),this.getServicios(),this.getClientes(),this.getOfficeEntity()}},{key:"getOfficeEntity",value:function(){var e=this;j.a.get(this.state.url+"/offices/").then(function(t){for(var a=0;a<t.data.length;a++)t.data[a].id==sessionStorage.getItem("oficina")&&e.setState({office_entity:t.data[a].entity})})}},{key:"isInArray",value:function(e){for(var t=0;t<this.state.listado_productos_orden.length;t++)if(this.state.listado_productos_orden[t].id==e)return!0;return!1}},{key:"getProductos",value:function(){var e=this,t=[];j.a.get(this.state.url+"/products/").then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function a(o){var i,r,c;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<n.data[o].product_office.length)){a.next=24;break}if(n.data[o].product_office[i].office_detail.id!=sessionStorage.getItem("oficina")){a.next=21;break}t[o]=[],t[o].nombre=n.data[o].name,t[o].id_producto=n.data[o].id,t[o].garantia=n.data[o].warranty_period,t[o].url=n.data[o].url,t[o].composicion=[],t[o].oficinas=[],t[o].oficinas.precio=n.data[o].product_office[i].price_per_unit,t[o].oficinas.direccion=n.data[o].product_office[i].office_detail.address,t[o].oficinas.id_oficina=n.data[o].product_office[i].office_detail.id,t[o].oficinas.url_service_office=n.data[o].product_office[i].url,r=E.a.mark(function a(i){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t[o].composicion[i]=[],t[o].composicion[i].cantidad=n.data[o].product_composition[i].quantity,t[o].composicion[i].id_componente=n.data[o].product_composition[i].component_detail.id,t[o].composicion[i].url_componente=n.data[o].product_composition[i].component_detail.url,t[o].composicion[i].nombre_componente=n.data[o].product_composition[i].component_detail.name,a.next=7,j.a.get(e.state.url+"/stock/?component="+n.data[o].product_composition[i].component_detail.id+"&office="+t[o].oficinas.id_oficina).then(function(e){t[o].composicion[i].url_stock=e.data[0].url,t[o].composicion[i].stock=e.data[0].in_stock});case 7:case"end":return a.stop()}},a)}),c=0;case 16:if(!(c<n.data[o].product_composition.length)){a.next=21;break}return a.delegateYield(r(c),"t0",18);case 18:c++,a.next=16;break;case 21:i++,a.next=1;break;case 24:case"end":return a.stop()}},a)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:console.log(t),e.setState({productos:t});case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"addProductToOrder",value:function(e){var t=this;e.preventDefault();var a=this.state.listado_productos_orden,n=a.length;if("-1"===this.state.producto_actual)alert("Debes seleccionar un producto");else for(var o=0;o<this.state.productos.length;o++)if(this.state.productos[o].id_producto==this.state.producto_actual){a[n]=[],a[n].id=this.state.productos[o].id_producto,a[n].url=this.state.productos[o].url,a[n].nombre=this.state.productos[o].nombre,a[n].quantity_sold=1,a[n].precio_unitario=this.state.productos[o].oficinas.precio,a[n].monto=this.state.productos[o].oficinas.precio*a[n].quantity_sold,a[n].url_service_office=this.state.productos[o].oficinas.url_service_office,a[n].composicion=[];for(var i=0;i<this.state.productos[o].composicion.length;i++)a[n].composicion[i]=[],a[n].composicion[i].id_componente=this.state.productos[o].composicion[i].id_componente,a[n].composicion[i].url_componente=this.state.productos[o].composicion[i].url_componente,a[n].composicion[i].stock=this.state.productos[o].composicion[i].stock,a[n].composicion[i].url_stock=this.state.productos[o].composicion[i].url_stock}this.setState({listado_productos_orden:a},function(){return t.calcularMontoTotalProductos()})}},{key:"calcularMontoTotalProductos",value:function(){this.setState({producto_actual:"-1"});for(var e=0,t=0;t<this.state.listado_productos_orden.length;t++)e+=Number(this.state.listado_productos_orden[t].monto);this.setState({monto_total_productos:e})}},{key:"updateAmountProductOrder",value:function(e,t){for(var a=this,n=this.state.listado_productos_orden,o=e.target.value,i=0;i<n.length;i++)n[i].id===t&&(n[i].quantity_sold=o,n[i].monto=o*n[i].precio_unitario);this.setState({listado_productos_orden:n},function(){return a.calcularMontoTotalProductos()})}},{key:"removeItemProductos",value:function(e){for(var t=this,a=this.state.listado_productos_orden,n=0;n<a.length;n++)a[n].id==e&&a.splice(n,1);this.setState({listado_productos_orden:a},function(){return t.calcularMontoTotalProductos()})}},{key:"changeMontoProductinOrder",value:function(e,t){for(var a=this,n=e.target.value,o=this.state.listado_productos_orden,i=0;i<o.length;i++)o[i].id==t&&(o[i].monto=n);this.setState({listado_productos_orden:o},function(){return a.calcularMontoTotalProductos()})}},{key:"getServicios",value:function(){var e=this,t=[];j.a.get(this.state.url+"/services/").then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function a(o){var i,r,c;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t[o]=[],t[o].nombre=n.data[o].name,t[o].id_servicio=n.data[o].id,t[o].url=n.data[o].url,t[o].composicion=[],t[o].garantia=n.data[o].warranty_period,t[o].oficina=[],i=0;case 8:if(!(i<n.data[o].service_office.length)){a.next=26;break}t[o].oficina[i]=[],t[o].oficina[i].precio=n.data[o].service_office[i].price_per_unit,t[o].oficina[i].direccion=n.data[o].service_office[i].office_detail.address,t[o].oficina[i].url_direccion=n.data[o].service_office[i].office,t[o].oficina[i].entidad=n.data[o].service_office[i].office_detail.entity,t[o].oficina[i].id_direccion=n.data[o].service_office[i].office_detail.id,t[o].oficina[i].url_service_office=n.data[o].service_office[i].url,r=E.a.mark(function a(i){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t[o].composicion[i]=[],t[o].composicion[i].id_componente=n.data[o].service_composition[i].service_detail.id,t[o].composicion[i].url_componente=n.data[o].service_composition[i].service_detail.url,t[o].composicion[i].nombre_componente=n.data[o].service_composition[i].service_detail.name,a.next=6,j.a.get(e.state.url+"/stock/?component="+n.data[o].service_composition[i].service_detail.id+"&office="+t[o].oficina[i].id_direccion).then(function(e){t[o].composicion[i].url_stock=e.data[0].url,t[o].composicion[i].stock=e.data[0].in_stock});case 6:case"end":return a.stop()}},a)}),c=0;case 18:if(!(c<n.data[o].service_composition.length)){a.next=23;break}return a.delegateYield(r(c),"t0",20);case 20:c++,a.next=18;break;case 23:i++,a.next=8;break;case 26:case"end":return a.stop()}},a)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:console.log(t),e.setState({servicios:t});case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"addServiceToOrder",value:function(e){var t=this;e.preventDefault();var a=this.state.listado_servicios_orden,n=a.length;if("-1"===this.state.servicio_actual||"-1"===this.state.oficina_servicio_actual)alert("Debes seleccionar servicio y sucursal");else for(var o=0;o<this.state.servicios.length;o++)if(this.state.servicios[o].id_servicio==this.state.servicio_actual)for(var i=0;i<this.state.servicios[o].oficina.length;i++)if(this.state.servicios[o].oficina[i].url_direccion==this.state.oficina_servicio_actual){a[n]=[],a[n].id=this.state.servicios[o].id_servicio,a[n].nombre=this.state.servicios[o].nombre,a[n].quantity_sold=1,a[n].precio_unitario=this.state.servicios[o].oficina[i].precio,a[n].monto=this.state.servicios[o].oficina[i].precio*a[n].quantity_sold,a[n].url=this.state.servicios[o].url,a[n].url_oficina=this.state.servicios[o].oficina[i].url,a[n].direccion_oficina=this.state.servicios[o].oficina[i].direccion,a[n].entidad_oficina=this.state.servicios[o].oficina[i].entidad,a[n].garantia=this.state.servicios[o].garantia,a[n].id_service_office=this.state.servicios[o].oficina[i].url_service_office,a[n].composicion=[];for(var r=0;r<this.state.servicios[o].composicion.length;r++)a[n].composicion[r]=[],a[n].composicion[r].id_componente=this.state.servicios[o].composicion[r].id_componente,a[n].composicion[r].url_componente=this.state.servicios[o].composicion[r].url_componente,a[n].composicion[r].stock=this.state.servicios[o].composicion[r].stock,a[n].composicion[r].url_stock=this.state.servicios[o].composicion[r].url_stock}console.log(a),this.setState({listado_servicios_orden:a},function(){return t.calcularMontoTotalServicios()})}},{key:"isDisabledService",value:function(e){for(var t=!1,a=0;a<this.state.listado_servicios_orden.length;a++)e==this.state.listado_servicios_orden[a].id&&(t=!0);return t}},{key:"calcularMontoTotalServicios",value:function(){this.setState({servicio_actual:"-1"});for(var e=0,t=0;t<this.state.listado_servicios_orden.length;t++)e+=Number(this.state.listado_servicios_orden[t].monto);this.setState({monto_total_servicios:e})}},{key:"updateAmountServiceOrder",value:function(e,t){for(var a=this,n=this.state.listado_servicios_orden,o=e.target.value,i=0;i<n.length;i++)n[i].id===t&&(n[i].quantity_sold=o,n[i].monto=o*n[i].precio_unitario);this.setState({listado_servicios_orden:n},function(){return a.calcularMontoTotalServicios()})}},{key:"changeMontoServiceinOrder",value:function(e,t){for(var a=this,n=e.target.value,o=this.state.listado_servicios_orden,i=0;i<o.length;i++)o[i].id==t&&(o[i].monto=n);this.setState({listado_servicios_orden:o},function(){return a.calcularMontoTotalServicios()})}},{key:"removeItemServicios",value:function(e){for(var t=this,a=this.state.listado_servicios_orden,n=0;n<a.length;n++)a[n].id==e&&a.splice(n,1);this.setState({listado_servicios_orden:a},function(){return t.calcularMontoTotalServicios()})}},{key:"terminarOrden",value:function(){this.sendOrder(),this.setState({redirect:!0})}},{key:"sendOrder",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n,o,i=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.listado_productos_orden,a=this.state.listado_servicios_orden,n=!0,0===t.length&&0===a.length?(alert("No puedes cargar una orden vacia"),n=!1):"-1"===this.state.cliente_seleccionado?alert("Seleccionar cliente"):a.length>0&&"-1"===this.state.dispositivo_seleccionado&&(alert("Debes selccionar un dipsositivo a arreglar"),n=!1),!n){e.next=8;break}return o=sessionStorage.getItem("id"),e.next=8,j.a.post(this.state.url+"/sales/",{client:this.state.url+"/clients/"+this.state.cliente_seleccionado+"/",initial_office:this.state.url+"/offices/"+sessionStorage.getItem("oficina")+"/",saleperson:this.state.url+"/users/"+o+"/"}).then(function(e){var n=e.data.url,o=e.data.id;if(i.setState({id_nueva_orden:e.data.id}),0!=t.length)for(var r=function(e){j.a.post(i.state.url+"/saleproducts/",{product_office:t[e].url_service_office,sale:n,price_total:t[e].monto,quantity_sold:t[e].quantity_sold}).then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=0;case 1:if(!(o<t[e].composicion.length)){a.next=7;break}return a.next=4,j.a.patch(t[e].composicion[o].url_stock,{in_stock:Number(t[e].composicion[o].stock)-Number(t[e].quantity_sold)}).then(function(){var e=Object(k.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:o++,a.next=1;break;case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())},c=0;c<t.length;c++)r(c);0!=a.length&&j.a.post(i.state.url+"/device_orders/",{state:"T",general_observations:i.state.general_observations,frontal_display:i.state.frontal_display,general_aesthetics:i.state.general_aesthetics,turns_on:i.state.turns_on,touch_id:i.state.touch_id,volume_button:i.state.volume_button,lock_button:i.state.lock_button,mute_button:i.state.mute_button,speakers:i.state.speakers,mic:i.state.mic,proximty_sensor:i.state.proximity_sensor,frontal_camera:i.state.frontal_camera,rear_camera:i.state.rear_camera,charge_pin:i.state.charge_pin,wet:i.state.wet,device:i.state.dispositivo_seleccionado,sale:o,authorization_number:1}).then(function(e){console.log(e);var t=i.state.url+"/device_orders/"+e.data.id+"/";j.a.post(i.state.url+"/route/",{source_office:i.state.url+"/offices/"+sessionStorage.getItem("oficina")+"/",destination_office:i.state.url+"/offices/"+sessionStorage.getItem("oficina")+"/",order:t,notes:"Oficina donde se recibio",user:i.state.url+"/users/"+sessionStorage.getItem("id")+"/",finished:!0}).then(function(e){});for(var n=function(e){j.a.post(i.state.url+"/saleservices/",{order:t,service_office:a[e].id_service_office,price_total:a[e].monto,component_quantity:a[e].quantity_sold,state:"NF"}).then(function(){var t=Object(k.a)(E.a.mark(function t(n){var o;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<a[e].composicion.length)){t.next=7;break}return t.next=4,j.a.patch(a[e].composicion[o].url_stock,{in_stock:Number(a[e].composicion[o].stock)-Number(a[e].quantity_sold)}).then(function(){var e=Object(k.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:o++,t.next=1;break;case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},o=0;o<a.length;o++)n(o)}),i.state.is_paying&&(i.state.efectivo>0&&j.a.post(i.state.url+"/transactions_sales/",{sale:n,transaction:{amount:i.state.efectivo,transaction_type:"DEP",method:"http://127.0.0.1:8000/payment_methods/1/",office:i.state.office_entity,third:i.state.client_entity}}).then(function(e){}),i.state.credito>0&&j.a.post(i.state.url+"/transactions_sales/",{sale:n,transaction:{amount:i.state.credito,transaction_type:"DEP",method:"http://127.0.0.1:8000/payment_methods/3/",office:i.state.office_entity,third:i.state.client_entity}}).then(function(e){}),i.state.debito>0&&j.a.post(i.state.url+"/transactions_sales/",{sale:n,transaction:{amount:i.state.debito,transaction_type:"DEP",method:"http://127.0.0.1:8000/payment_methods/2/",office:i.state.office_entity,third:i.state.client_entity}}).then(function(e){}))}).then(function(e){i.setState({redirect:!0})});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.opciones_dispositivos=[],null!=this.state.cliente_seleccionado)for(var t=0;t<this.state.clientes.length;t++)if(this.state.clientes[t].id==this.state.cliente_seleccionado)for(var a=0;a<this.state.clientes[t].dispositivos.length;a++)this.opciones_dispositivos[a]=[],this.opciones_dispositivos[a].color=this.state.clientes[t].dispositivos[a].color,this.opciones_dispositivos[a].url=this.state.clientes[t].dispositivos[a].url,this.opciones_dispositivos[a].modelo=this.state.clientes[t].dispositivos[a].modelo,this.opciones_dispositivos[a].id=this.state.clientes[t].dispositivos[a].id;return i.a.createElement(x,null,this.state.redirect?i.a.createElement(s.a,{to:"/ventas/"+this.state.id_nueva_orden}):"",i.a.createElement(g,null),i.a.createElement("div",{className:"new-venta-wrapper"},i.a.createElement("div",{className:"new-venta-form-wrapper"},i.a.createElement("p",null,"Cliente"),i.a.createElement("input",{id:"filtro_cliente_nueva_venta",type:"text",name:"filter_cliente_name",value:this.state.filter_cliente_name,onChange:this.handleInputChange,placeholder:"Filtrar cliente por nombre"}),i.a.createElement("br",null),i.a.createElement("select",{name:"cliente_seleccionado",onChange:this.handleInputChange,value:this.state.cliente_seleccionado},i.a.createElement("option",{value:"-1"},"Seleccionar Cliente"),this.state.clientes_filtrado.map(function(e){return i.a.createElement("option",{value:e.id},e.nombre," (",e.dni,")")})),i.a.createElement("p",null,"Hay Reparaci\xf3n? ",i.a.createElement("input",{type:"checkbox",name:"reparacion",value:this.state.reparacion,onChange:this.handleInputChange})),i.a.createElement("form",{id:"new-venta-form"},this.state.reparacion?i.a.createElement("div",{className:"new-venta-services-wrapper"},i.a.createElement("h2",null,"Arreglos"),i.a.createElement("p",null,"Dispositivo"),i.a.createElement("select",{name:"dispositivo_seleccionado",onChange:this.handleInputChange,value:this.state.dispositivo_seleccionado},i.a.createElement("option",{value:"-1"},"Seleccionar Dispositivo"),this.opciones_dispositivos.map(function(e){return i.a.createElement("option",{value:e.id},e.modelo," ",e.color)})),i.a.createElement("br",null),i.a.createElement("p",null,"Mojado ",i.a.createElement("input",{type:"checkbox",name:"wet",value:this.state.wet,checked:this.state.wet,onChange:this.handleInputChange})),i.a.createElement("p",null,"Pantalla Delantera ",i.a.createElement("input",{type:"checkbox",name:"frontal_display",value:this.state.frontal_display,checked:this.state.frontal_display,onChange:this.handleInputChange})),i.a.createElement("p",null,"Prende ",i.a.createElement("input",{type:"checkbox",name:"turns_on",value:this.state.turns_on,checked:this.state.turns_on,onChange:this.handleInputChange})),i.a.createElement("p",null,"Touch id ",i.a.createElement("input",{type:"checkbox",name:"touch_id",value:this.state.touch_id,checked:this.state.touch_id,onChange:this.handleInputChange})),i.a.createElement("p",null,"Boton Volumen ",i.a.createElement("input",{type:"checkbox",name:"volume_button",value:this.state.volume_button,checked:this.state.volume_button,onChange:this.handleInputChange})),i.a.createElement("p",null,"Boton Bloqueo ",i.a.createElement("input",{type:"checkbox",name:"lock_button",value:this.state.lock_button,checked:this.state.lock_button,onChange:this.handleInputChange})),i.a.createElement("p",null,"Boton Silencio ",i.a.createElement("input",{type:"checkbox",name:"mute_button",value:this.state.mute_button,checked:this.state.mute_button,onChange:this.handleInputChange})),i.a.createElement("p",null,"Parlante ",i.a.createElement("input",{type:"checkbox",name:"speakers",value:this.state.speakers,checked:this.state.speakers,onChange:this.handleInputChange})),i.a.createElement("p",null,"Microfono ",i.a.createElement("input",{type:"checkbox",name:"mic",value:this.state.mic,checked:this.state.mic,onChange:this.handleInputChange})),i.a.createElement("p",null,"Sensor Proximidad ",i.a.createElement("input",{type:"checkbox",name:"proximity_sensor",value:this.state.proximity_sensor,checked:this.state.proximity_sensor,onChange:this.handleInputChange})),i.a.createElement("p",null,"Camara Frontal ",i.a.createElement("input",{type:"checkbox",name:"frontal_camera",value:this.state.frontal_camera,checked:this.state.frontal_camera,onChange:this.handleInputChange})),i.a.createElement("p",null,"Camara Trasera ",i.a.createElement("input",{type:"checkbox",name:"rear_camera",value:this.state.rear_camera,checked:this.state.rear_camera,onChange:this.handleInputChange})),i.a.createElement("p",null,"Pin de Carga ",i.a.createElement("input",{type:"checkbox",name:"charge_pin",value:this.state.charge_pin,checked:this.state.charge_pin,onChange:this.handleInputChange})),i.a.createElement("p",null,"Estetica General ",i.a.createElement("input",{type:"checkbox",name:"general_aesthetics",value:this.state.general_aesthetics,checked:this.state.general_aesthetics,onChange:this.handleInputChange})),i.a.createElement("p",null,"Observaciones Generales",i.a.createElement("br",null),i.a.createElement("textarea",{rows:"5",cols:"40",name:"general_observations",value:this.state.general_observations,onChange:this.handleInputChange})),i.a.createElement("br",null),i.a.createElement("p",null,"Servicios"),i.a.createElement("select",{onChange:this.handleInputChange,name:"servicio_actual",value:this.state.servicio_actual},i.a.createElement("option",{value:"-1"},"Seleccionar Servicio"),this.state.servicios.map(function(t){return i.a.createElement("option",{disabled:e.isDisabledService(t.id_servicio),value:t.id_servicio},t.nombre)})),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("select",{onChange:this.handleInputChange,name:"oficina_servicio_actual",value:this.state.oficina_servicio_actual},i.a.createElement("option",{value:"-1"},"Seleccionar Oficina donde se realiza"),this.state.servicios.map(function(t){return t.id_servicio==e.state.servicio_actual?t.oficina.map(function(e){return i.a.createElement("option",{value:e.url_direccion},e.direccion," ($",e.precio,")")}):""})),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.addServiceToOrder},"Agregar")):"",i.a.createElement("div",{className:"select-new-producto-order"},i.a.createElement("h2",null,"Productos"),i.a.createElement("select",{onChange:this.handleInputChange,name:"producto_actual",value:this.state.producto_actual},i.a.createElement("option",{value:"-1"},"Seleccionar Productos"),this.state.productos.map(function(t){return i.a.createElement("option",{key:t.id_producto,disabled:e.isInArray(t.id_producto),value:t.id_producto},t.nombre," ($",t.oficinas.precio,") en ",t.oficinas.direccion)})),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.addProductToOrder},"Agregar")))),i.a.createElement("div",{className:"resumen-venta-wrapper"},i.a.createElement("div",{className:"wrapper-listado-productos-agregados"},i.a.createElement("h3",null,"Resumen Productos"),this.state.listado_productos_orden.map(function(t){return i.a.createElement("p",null,t.nombre," ",i.a.createElement("input",{onChange:function(a){return e.updateAmountProductOrder(a,t.id)},type:"number",value:t.quantity_sold})," $",i.a.createElement("input",{type:"number",value:t.monto,onChange:function(a){return e.changeMontoProductinOrder(a,t.id)}}),"($",t.precio_unitario,")",i.a.createElement("button",{onClick:function(){return e.removeItemProductos(t.id)}},"X"))}),i.a.createElement("p",null,i.a.createElement("strong",null,"Total en Productos: "),"$",this.state.monto_total_productos),i.a.createElement("h3",null,"Resumen Servicios"),this.state.listado_servicios_orden.map(function(t){return i.a.createElement("p",null,t.nombre," en ",t.direccion_oficina,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("input",{onChange:function(a){return e.updateAmountServiceOrder(a,t.id)},type:"number",value:t.quantity_sold})," $",i.a.createElement("input",{type:"number",value:t.monto,onChange:function(a){return e.changeMontoServiceinOrder(a,t.id)}})," ($",t.precio_unitario,") ",i.a.createElement("button",{onClick:function(){return e.removeItemServicios(t.id)}},"X"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"Garantia Hasta:")," ",e.getWarrantyDate(t.garantia))}),i.a.createElement("p",null,i.a.createElement("strong",null,"Total en Servicios: "),"$",this.state.monto_total_servicios),i.a.createElement("div",{className:"div-mostrar-total"},i.a.createElement("p",null,i.a.createElement("strong",null,"Total:")," $",this.state.monto_total_servicios+this.state.monto_total_productos)),i.a.createElement("div",{className:"pagar-orden"},i.a.createElement("p",null,"Paga ahora? ",i.a.createElement("input",{type:"checkbox",name:"is_paying",value:this.state.is_paying,onChange:this.handleInputChange})),this.state.is_paying?i.a.createElement("div",{className:"pagar-orden-invisible"},i.a.createElement("label",null,"Cantidad en Credito")," ",i.a.createElement("input",{type:"number",min:"0",onChange:this.handleInputChange,name:"credito",value:this.state.credito}),"(25% recargo) -- $",1.25*(this.state.monto_total_servicios+this.state.monto_total_productos),i.a.createElement("br",null),i.a.createElement("label",null,"Cantidad en Debito")," ",i.a.createElement("input",{type:"number",min:"0",onChange:this.handleInputChange,name:"debito",value:this.state.debito}),i.a.createElement("br",null),i.a.createElement("label",null,"Cantidad en Efectivo")," ",i.a.createElement("input",{type:"number",min:"0",onChange:this.handleInputChange,name:"efectivo",value:this.state.efectivo})):"",i.a.createElement("button",{onClick:this.sendOrder},"Terminar Orden"))))))}}]),t}(o.Component)),z=(a(82),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",ordenes:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];j.a.get(this.state.url+"/orders/").then(function(a){for(var n=function(e){t[e]=[],t[e].id=a.data[a.data.length-1-e].id,t[e].device=[],t[e].state=a.data[a.data.length-1-e].state,null!=a.data[a.data.length-1-e].device&&j.a.get(a.data[a.data.length-1-e].device).then(function(a){console.log(a),t[e].device.imei=a.data.imei,t[e].device.color=a.data.color,t[e].device.modelo=a.data.modelinfo.name,t[e].device.capacity=a.data.capacity})},o=0;o<a.data.length;o++)n(o);e.setState({ordenes:t})})}},{key:"render",value:function(){return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-ventas"},i.a.createElement("div",{className:"wrapper-ventas-listado"},i.a.createElement("div",{className:"wrapper-ventas-listado-item"},i.a.createElement("p",null,i.a.createElement("span",null,"ID Orden"),i.a.createElement("span",null,"Dispositivo"),i.a.createElement("span",null,"Estado"))),this.state.ordenes.map(function(e){return i.a.createElement("div",{className:"wrapper-ventas-listado-item"},i.a.createElement("p",null,i.a.createElement("span",null,e.id),i.a.createElement("span",null,e.device),i.a.createElement("span",null,e.state)))}))))}}]),t}(o.Component)),F=(a(83),function(e){function t(e){var a,n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state=(a={id_orden:"",id_sale:"",url:"http://api.mycenter.rubick.co",fecha_creacion_orden:"",cliente:[],notas_orden:"",arreglo_servicios:[],arreglo_productos:[],datos_device:[],nuevo_estado_orden:"-1",device:"",arreglo_servicios_venta:[],arreglo_productos_venta:[],servicio_actual:"-1",oficina_servicio_actual:"-1",producto_actual:"-1",listado_servicios_agregar_orden:[],listado_productos_agregar_orden:[],monto_total_servicios_nuevos:0,monto_total_servicios_en_orden:0,monto_total_productos_nuevos:0,monto_total_productos_en_orden:0,pagos_realizados:[],deuda:0,efectivo:0,credito:0,debito:0,rutas:[],id_device_order:"",estado:{T:"Tramite",E:"Entregada",F:"Finalizada"}},Object(y.a)(a,"cliente",[]),Object(y.a)(a,"office_entity",""),Object(y.a)(a,"client_entity",""),Object(y.a)(a,"deliver_date",null),a),n.handleInputChange=n.handleInputChange.bind(Object(f.a)(Object(f.a)(n))),n.changeOrderState=n.changeOrderState.bind(Object(f.a)(Object(f.a)(n))),n.isDelivered=n.isDelivered.bind(Object(f.a)(Object(f.a)(n))),n.markAsFinished=n.markAsFinished.bind(Object(f.a)(Object(f.a)(n))),n.confirmNewServices=n.confirmNewServices.bind(Object(f.a)(Object(f.a)(n))),n.confirmNewProducts=n.confirmNewProducts.bind(Object(f.a)(Object(f.a)(n))),n.removeProductFromOrder=n.removeProductFromOrder.bind(Object(f.a)(Object(f.a)(n))),n.pay=n.pay.bind(Object(f.a)(Object(f.a)(n))),n.addServiceToOrder=n.addServiceToOrder.bind(Object(f.a)(Object(f.a)(n))),n.calculatePagos=n.calculatePagos.bind(Object(f.a)(Object(f.a)(n))),n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"calculateDeuda",value:function(){var e=0;e=this.state.monto_total_productos_en_orden+this.state.monto_total_servicios_en_orden;for(var t=0;t<this.state.pagos_realizados.length;t++)e-=this.state.pagos_realizados[t].monto;this.setState({deuda:e})}},{key:"isDelivered",value:function(){return"E"===this.state.datos_device.estado}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,o=a.name;if("cliente_seleccionado"===o){this.setState({listado_servicios_orden:[]},function(){return t.calcularMontoTotalServicios()})}this.setState(Object(y.a)({},o,n))}},{key:"changeOrderState",value:function(){var e=this;"-1"===this.state.nuevo_estado_orden?alert("Seleccionar un estado valido"):"E"===this.state.nuevo_estado_orden&&this.state.deuda>0?alert("Para poner estado en entregado primero debe cancelar la deuda"):("E"===this.state.nuevo_estado_orden&&j.a.patch(this.state.url+"/sales/"+this.state.id_sale+"/",{deliver_date:(new Date).toISOString()}),j.a.patch(this.state.url+"/device_orders/"+this.state.id_device_order+"/",{state:this.state.nuevo_estado_orden}).then(function(t){e.fetchDataDeviceOrder()}))}},{key:"fetchData",value:function(){this.fetchDataDeviceOrder(),this.fetchDataOrder(),this.fetchDataProducts(),this.fetchProductsToSell(),this.fetchDataPayments()}},{key:"fetchDataOrder",value:function(){var e=this;j.a.get(this.state.url+"/sales/"+this.state.id_orden).then(function(t){e.setState({fecha_creacion_orden:t.data.time_created})})}},{key:"fetchDataDeviceOrder",value:function(){var e=this,t=[];j.a.get(this.state.url+"/device_orders/?sale="+this.state.id_orden).then(function(a){console.log(a.data),a.data.length>0&&(e.setState({id_device_order:a.data[0].id,id_sale:a.data[0].sale},function(){this.fetchDataServices(),this.fetchDataRoutes()}),t.estado=a.data[0].state,t.observaciones_generales=a.data[0].general_observations,t.display_frontal=a.data[0].frontal_display,t.estetica_general=a.data[0].general_aesthetics,t.prende=a.data[0].turns_on,t.touch_id=a.data[0].touch_id,t.volume_button=a.data[0].volume_button,t.lock_button=a.data[0].lock_button,t.mute_button=a.data[0].mute_button,t.altavoces=a.data[0].speakers,t.mic=a.data[0].mic,t.sensor_proximidad=a.data[0].proximty_sensor,t.camara_frontal=a.data[0].frontal_camera,t.camara_trasera=a.data[0].rear_camera,t.pin_carga=a.data[0].charge_pin,t.mojado=a.data[0].wet,e.setState({datos_device:t}))})}},{key:"fetchDataServices",value:function(){var e=this,t=[];j.a.get(this.state.url+"/saleservices/?order="+this.state.id_device_order).then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[a]=[],t[a].monto=n.data[a].price_total,t[a].estado=n.data[a].state,t[a].sale_service_url=n.data[a].url,t[a].service_office_url=n.data[a].service_office,e.next=7,j.a.get(n.data[a].service_office).then(function(){var e=Object(k.a)(E.a.mark(function e(n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[a].oficina_servicio=n.data.office_detail.address,t[a].servicio_url=n.data.service,e.next=4,j.a.get(n.data.service).then(function(e){t[a].nombre_servicio=e.data.name,t[a].id_servicio=e.data.id,t[a].tiempo_en_garantia=e.data.warranty_period});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}},e)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:e.setState({arreglo_servicios:t},function(){this.calcularMontoTotalServiciosEnOrden(),this.fetchSerivcesToSell()});case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"fetchDataProducts",value:function(){var e=this,t=[];j.a.get(this.state.url+"/saleproducts/?sale="+this.state.id_orden).then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[a]=[],t[a].monto=n.data[a].price_total,t[a].cantidad=n.data[a].quantity_sold,t[a].url=n.data[a].url,e.next=6,j.a.get(n.data[a].product_office).then(function(){var e=Object(k.a)(E.a.mark(function e(n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[a].direccion_oficina=n.data.office_detail.address,e.next=3,j.a.get(n.data.product).then(function(e){t[a].nombre_producto=e.data.name,t[a].id_producto=e.data.id});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:e.setState({arreglo_productos:t},function(){this.getMontoTotalProductosEnOrden()});case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"fetchDataRoutes",value:function(){var e=this,t=[];j.a.get(this.state.url+"/route/?order="+this.state.id_device_order).then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t[a]=[],t[a].origen=[],t[a].destino=[],t[a].notas=n.data[a].notes,t[a].finished=n.data[a].finished,t[a].usuario=n.data[a].user,t[a].ruta_url=n.data[a].url,t[a].fecha=n.data[a].creation_date,n.data[a].source_office!==n.data[a].destination_office){e.next=13;break}return e.next=11,j.a.get(n.data[a].source_office).then(function(e){t[a].origen.direccion=e.data.address,t[a].destino.direccion=e.data.address});case 11:e.next=17;break;case 13:return e.next=15,j.a.get(n.data[a].source_office).then(function(e){t[a].origen.direccion=e.data.address});case 15:return e.next=17,j.a.get(n.data[a].destination_office).then(function(e){t[a].destino.direccion=e.data.address});case 17:case"end":return e.stop()}},e)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:e.setState({rutas:t});case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"fetchSerivcesToSell",value:function(){var e=this,t=[],a=0;j.a.get(this.state.url+"/services/").then(function(){var n=Object(k.a)(E.a.mark(function n(o){var i,r,c,s,l,u;return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=0;case 1:if(!(i<o.data.length)){n.next=35;break}for(r=!0,c=0;c<e.state.arreglo_servicios.length;c++)e.state.arreglo_servicios[c].id_servicio===o.data[i].id&&(r=!1);if(!r){n.next=32;break}t[a]=[],t[a].nombre=o.data[i].name,t[a].id_servicio=o.data[i].id,t[a].url=o.data[i].url,t[a].composicion=[],t[a].garantia=o.data[i].warranty_period,t[a].oficina=[],s=0;case 13:if(!(s<o.data[i].service_office.length)){n.next=31;break}t[a].oficina[s]=[],t[a].oficina[s].precio=o.data[i].service_office[s].price_per_unit,t[a].oficina[s].direccion=o.data[i].service_office[s].office_detail.address,t[a].oficina[s].url_direccion=o.data[i].service_office[s].office,t[a].oficina[s].entidad=o.data[i].service_office[s].office_detail.entity,t[a].oficina[s].id_direccion=o.data[i].service_office[s].office_detail.id,t[a].oficina[s].url_service_office=o.data[i].service_office[s].url,l=E.a.mark(function n(r){return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t[a].composicion[r]=[],t[a].composicion[r].id_componente=o.data[i].service_composition[r].service_detail.id,t[a].composicion[r].url_componente=o.data[i].service_composition[r].service_detail.url,t[a].composicion[r].nombre_componente=o.data[i].service_composition[r].service_detail.name,n.next=6,j.a.get(e.state.url+"/stock/?component="+o.data[i].service_composition[r].service_detail.id+"&office="+t[a].oficina[r].id_direccion).then(function(e){t[a].composicion[r].url_stock=e.data[0].url,t[a].composicion[r].stock=e.data[0].in_stock});case 6:case"end":return n.stop()}},n)}),u=0;case 23:if(!(u<o.data[i].service_composition.length)){n.next=28;break}return n.delegateYield(l(u),"t0",25);case 25:u++,n.next=23;break;case 28:s++,n.next=13;break;case 31:a+=1;case 32:i++,n.next=1;break;case 35:e.setState({arreglo_servicios_venta:t});case 36:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}},{key:"fetchProductsToSell",value:function(){var e=this,t=[];j.a.get(this.state.url+"/products/").then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function a(o){var i,r,c;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<n.data[o].product_office.length)){a.next=24;break}if(n.data[o].product_office[i].office_detail.id!=sessionStorage.getItem("oficina")){a.next=21;break}t[o]=[],t[o].nombre=n.data[o].name,t[o].id_producto=n.data[o].id,t[o].garantia=n.data[o].warranty_period,t[o].url=n.data[o].url,t[o].composicion=[],t[o].oficinas=[],t[o].oficinas.precio=n.data[o].product_office[i].price_per_unit,t[o].oficinas.direccion=n.data[o].product_office[i].office_detail.address,t[o].oficinas.id_oficina=n.data[o].product_office[i].office_detail.id,t[o].oficinas.url_product_office=n.data[o].product_office[i].url,r=E.a.mark(function a(i){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t[o].composicion[i]=[],t[o].composicion[i].cantidad=n.data[o].product_composition[i].quantity,t[o].composicion[i].id_componente=n.data[o].product_composition[i].component_detail.id,t[o].composicion[i].url_componente=n.data[o].product_composition[i].component_detail.url,t[o].composicion[i].nombre_componente=n.data[o].product_composition[i].component_detail.name,a.next=7,j.a.get(e.state.url+"/stock/?component="+n.data[o].product_composition[i].component_detail.id+"&office="+t[o].oficinas.id_oficina).then(function(e){t[o].composicion[i].url_stock=e.data[0].url,t[o].composicion[i].stock=e.data[0].in_stock});case 7:case"end":return a.stop()}},a)}),c=0;case 16:if(!(c<n.data[o].product_composition.length)){a.next=21;break}return a.delegateYield(r(c),"t0",18);case 18:c++,a.next=16;break;case 21:i++,a.next=1;break;case 24:case"end":return a.stop()}},a)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:console.log(t),e.setState({arreglo_productos_venta:t});case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"fetchDataPayments",value:function(){var e=this,t=[];j.a.get(this.state.url+"/transactions_sales/?sale="+this.state.id_orden).then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[a]=[],t[a].url_tipo=n.data[a].transaction.method,t[a].monto=n.data[a].transaction.amount,t[a].fecha=n.data[a].transaction.time_created,t[a].oficina=n.data[a].office,e.next=7,j.a.get(t[a].url_tipo).then(function(e){t[a].tipo=e.data.name});case 7:case"end":return e.stop()}},e)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:e.setState({pagos_realizados:t},function(){return e.calculateDeuda()});case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"markAsFinished",value:function(e){var t=this;j.a.patch(e,{state:"F"}).then(function(e){t.fetchDataServices()})}},{key:"isInArray",value:function(e){for(var t=0;t<this.state.arreglo_productos.length;t++)if(this.state.arreglo_productos[t].id_producto==e)return!0;for(var a=0;a<this.state.listado_productos_agregar_orden.length;a++)if(this.state.listado_productos_agregar_orden[a].id==e)return!0;return!1}},{key:"addServiceToOrder",value:function(e){var t=this;e.preventDefault();var a=this.state.listado_servicios_agregar_orden,n=a.length;if("-1"===this.state.servicio_actual||"-1"===this.state.oficina_servicio_actual)alert("Debes seleccionar servicio y sucursal");else for(var o=0;o<this.state.arreglo_servicios_venta.length;o++)if(this.state.arreglo_servicios_venta[o].id_servicio==this.state.servicio_actual)for(var i=0;i<this.state.arreglo_servicios_venta[o].oficina.length;i++)if(this.state.arreglo_servicios_venta[o].oficina[i].url_direccion==this.state.oficina_servicio_actual){a[n]=[],a[n].id=this.state.arreglo_servicios_venta[o].id_servicio,a[n].nombre=this.state.arreglo_servicios_venta[o].nombre,a[n].quantity_sold=1,a[n].precio_unitario=this.state.arreglo_servicios_venta[o].oficina[i].precio,a[n].monto=this.state.arreglo_servicios_venta[o].oficina[i].precio*a[n].quantity_sold,a[n].url=this.state.arreglo_servicios_venta[o].url,a[n].url_oficina=this.state.arreglo_servicios_venta[o].oficina[i].url,a[n].direccion_oficina=this.state.arreglo_servicios_venta[o].oficina[i].direccion,a[n].entidad_oficina=this.state.arreglo_servicios_venta[o].oficina[i].entidad,a[n].garantia=this.state.arreglo_servicios_venta[o].garantia,a[n].url_service_office=this.state.arreglo_servicios_venta[o].oficina[i].url_service_office,a[n].composicion=[];for(var r=0;r<this.state.arreglo_servicios_venta[o].composicion.length;r++)a[n].composicion[r]=[],a[n].composicion[r].id_componente=this.state.arreglo_servicios_venta[o].composicion[r].id_componente,a[n].composicion[r].url_componente=this.state.arreglo_servicios_venta[o].composicion[r].url_componente,a[n].composicion[r].stock=this.state.arreglo_servicios_venta[o].composicion[r].stock,a[n].composicion[r].url_stock=this.state.arreglo_servicios_venta[o].composicion[r].url_stock}console.log(a),this.setState({listado_servicios_agregar_orden:a},function(){return t.calcularMontoTotalServicios()})}},{key:"calcularMontoTotalServicios",value:function(){this.calcularMontoTotalServiciosNuevos()}},{key:"calcularMontoTotalServiciosNuevos",value:function(){this.setState({servicio_actual:"-1"});for(var e=0,t=0;t<this.state.listado_servicios_agregar_orden.length;t++)e+=Number(this.state.listado_servicios_agregar_orden[t].monto);this.setState({monto_total_servicios_nuevos:e})}},{key:"calcularMontoTotalServiciosEnOrden",value:function(){for(var e=this,t=0,a=0;a<this.state.arreglo_servicios.length;a++)t+=Number(this.state.arreglo_servicios[a].monto);this.setState({monto_total_servicios_en_orden:t},function(){return e.calculateDeuda()})}},{key:"updateAmountServiceOrder",value:function(e,t){for(var a=this,n=this.state.listado_servicios_agregar_orden,o=e.target.value,i=0;i<n.length;i++)n[i].id===t&&(n[i].quantity_sold=o,n[i].monto=o*n[i].precio_unitario);this.setState({listado_servicios_agregar_orden:n},function(){return a.calcularMontoTotalServicios()})}},{key:"changeMontoServiceinOrder",value:function(e,t){for(var a=this,n=e.target.value,o=this.state.listado_servicios_agregar_orden,i=0;i<o.length;i++)o[i].id==t&&(o[i].monto=n);this.setState({listado_servicios_agregar_orden:o},function(){return a.calcularMontoTotalServicios()})}},{key:"removeItemServicios",value:function(e){for(var t=this,a=this.state.listado_servicios_agregar_orden,n=0;n<a.length;n++)a[n].id==e&&a.splice(n,1);this.setState({listado_servicios_agregar_orden:a},function(){return t.calcularMontoTotalServicios()})}},{key:"confirmNewServices",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this.state.listado_servicios_agregar_orden).length){e.next=5;break}alert("No puedes cargar servicios vacios"),e.next=12;break;case 5:a=0;case 6:if(!(a<t.length)){e.next=12;break}return e.next=9,j.a.post(this.state.url+"/saleservices/",{order:this.state.url+"/device_orders/"+this.state.id_device_order+"/",service_office:t[a].url_service_office,price_total:t[a].monto,component_quantity:t[a].quantity_sold,state:"NF"}).then(function(e){t=[],n.setState({listado_servicios_agregar_orden:t},function(){return n.calcularMontoTotalServiciosNuevos()}),n.fetchDataServices()});case 9:a++,e.next=6;break;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeServiceFromOrder",value:function(e){var t=this;window.confirm("Estas seguro que deseas eliminar este servicio?")&&j.a.delete(e).then(function(e){t.fetchDataServices(),console.log(e)})}},{key:"addProductToOrder",value:function(e){var t=this;e.preventDefault();var a=this.state.listado_productos_agregar_orden,n=a.length;if("-1"===this.state.producto_actual)alert("Debes seleccionar un producto");else for(var o=0;o<this.state.arreglo_productos_venta.length;o++)if(this.state.arreglo_productos_venta[o].id_producto==this.state.producto_actual){a[n]=[],a[n].id=this.state.arreglo_productos_venta[o].id_producto,a[n].url=this.state.arreglo_productos_venta[o].url,a[n].nombre=this.state.arreglo_productos_venta[o].nombre,a[n].quantity_sold=1,a[n].precio_unitario=this.state.arreglo_productos_venta[o].oficinas.precio,a[n].monto=this.state.arreglo_productos_venta[o].oficinas.precio*a[n].quantity_sold,a[n].url_product_office=this.state.arreglo_productos_venta[o].oficinas.url_product_office,a[n].composicion=[];for(var i=0;i<this.state.arreglo_productos_venta[o].composicion.length;i++)a[n].composicion[i]=[],a[n].composicion[i].id_componente=this.state.arreglo_productos_venta[o].composicion[i].id_componente,a[n].composicion[i].url_componente=this.state.arreglo_productos_venta[o].composicion[i].url_componente,a[n].composicion[i].stock=this.state.arreglo_productos_venta[o].composicion[i].stock,a[n].composicion[i].url_stock=this.state.arreglo_productos_venta[o].composicion[i].url_stock}this.setState({listado_productos_agregar_orden:a},function(){return t.calcularMontoTotalProductosNuevos()})}},{key:"calcularMontoTotalProductosNuevos",value:function(){this.setState({producto_actual:"-1"});for(var e=0,t=0;t<this.state.listado_productos_agregar_orden.length;t++)e+=Number(this.state.listado_productos_agregar_orden[t].monto);this.setState({monto_total_productos_nuevos:e})}},{key:"getMontoTotalProductosEnOrden",value:function(){for(var e=this,t=0,a=0;a<this.state.arreglo_productos.length;a++)t+=Number(this.state.arreglo_productos[a].monto);this.setState({monto_total_productos_en_orden:t},function(){return e.calculateDeuda()})}},{key:"updateAmountProductOrder",value:function(e,t){for(var a=this,n=this.state.listado_productos_agregar_orden,o=e.target.value,i=0;i<n.length;i++)n[i].id===t&&(n[i].quantity_sold=o,n[i].monto=o*n[i].precio_unitario);this.setState({listado_productos_agregar_orden:n},function(){return a.calcularMontoTotalProductosNuevos()})}},{key:"removeItemProductos",value:function(e){for(var t=this,a=this.state.listado_productos_agregar_orden,n=0;n<a.length;n++)a[n].id==e&&a.splice(n,1);this.setState({listado_productos_agregar_orden:a},function(){return t.calcularMontoTotalProductosNuevos()})}},{key:"changeMontoProductinOrder",value:function(e,t){for(var a=this,n=e.target.value,o=this.state.listado_productos_agregar_orden,i=0;i<o.length;i++)o[i].id==t&&(o[i].monto=n);this.setState({listado_productos_agregar_orden:o},function(){return a.calcularMontoTotalProductosNuevos()})}},{key:"confirmNewProducts",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=this.state.listado_productos_agregar_orden).length){e.next=5;break}alert("No puedes cargar servicios vacios"),e.next=12;break;case 5:a=0;case 6:if(!(a<t.length)){e.next=12;break}return e.next=9,j.a.post(this.state.url+"/saleproducts/",{sale:this.state.url+"/sales/"+this.state.id_orden+"/",product_office:t[a].url_product_office,price_total:t[a].monto,quantity_sold:t[a].quantity_sold}).then(function(e){t=[],n.setState({listado_productos_agregar_orden:t},function(){return n.calcularMontoTotalProductosNuevos()}),n.fetchDataProducts()});case 9:a++,e.next=6;break;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeProductFromOrder",value:function(e){var t=this;window.confirm("Estas seguro que deseas eliminar este producto?")&&j.a.delete(e).then(function(e){t.fetchDataProducts()})}},{key:"isDisabledService",value:function(e){for(var t=!1,a=0;a<this.state.listado_servicios_agregar_orden.length;a++)e==this.state.listado_servicios_agregar_orden[a].id&&(t=!0);return t}},{key:"getWarrantyDate",value:function(e){var t=new Date;return t.setDate(t.getDate()+e),t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}},{key:"pay",value:function(){var e=Object(k.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.efectivo>0)){e.next=3;break}return e.next=3,j.a.post(this.state.url+"/transactions_sales/",{sale:this.state.url+"/sales/"+this.state.id_orden+"/",transaction:{amount:this.state.efectivo,transaction_type:"DEP",method:"http://127.0.0.1:8000/payment_methods/1/",office:this.state.office_entity,third:this.state.client_entity}}).then(function(e){});case 3:if(!(this.state.credito>0)){e.next=6;break}return e.next=6,j.a.post(this.state.url+"/transactions_sales/",{sale:this.state.url+"/sales/"+this.state.id_orden+"/",transaction:{amount:this.state.credito,transaction_type:"DEP",method:"http://127.0.0.1:8000/payment_methods/3/",office:this.state.office_entity,third:this.state.client_entity}}).then(function(e){});case 6:if(!(this.state.debito>0)){e.next=9;break}return e.next=9,j.a.post(this.state.url+"/transactions_sales/",{sale:this.state.url+"/sales/"+this.state.id_orden+"/",transaction:{amount:this.state.debito,transaction_type:"DEP",method:"http://127.0.0.1:8000/payment_methods/2/",office:this.state.office_entity,third:this.state.client_entity}}).then(function(e){});case 9:this.fetchDataPayments(),this.setState({efectivo:0,tarjeta:0});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculatePagos",value:function(e,t,a){var n,o,i,r=this.state.monto_total_servicios_en_orden+this.state.monto_total_productos_en_orden;n=e/100*r,o=t/100*r,i=a/100*r*1.25,this.setState({credito:i,debito:o,efectivo:n})}},{key:"getOfficeEntity",value:function(){var e=this;j.a.get(this.state.url+"/offices/").then(function(t){for(var a=0;a<t.data.length;a++)t.data[a].id==sessionStorage.getItem("oficina")&&e.setState({office_entity:t.data[a].entity})})}},{key:"getClientData",value:function(){var e=this,t=[];j.a.get(this.state.url+"/sales/"+this.state.id_orden+"/").then(function(){var a=Object(k.a)(E.a.mark(function a(n){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({deliver_date:n.data.deliver_date}),a.next=3,j.a.get(n.data.client).then(function(a){t.nombre=a.data.first_name+" "+a.data.last_name,e.setState({client_entity:a.data.entity,cliente:t})});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"getFinGarantia",value:function(e){var t=new Date(this.state.deliver_date);return t.setDate(t.getDate()+e),t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({id_orden:e},function(){this.fetchData(),this.getClientData()}),this.getOfficeEntity()}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-single-order"},i.a.createElement("div",{className:"wrapper-single-order-container"},i.a.createElement("div",{className:"wrapper-single-order-orden"},i.a.createElement("h3",null,"Nro de Orden: ",this.state.id_orden),i.a.createElement("p",null,i.a.createElement("strong",null,"Cliente: "),this.state.cliente.nombre),i.a.createElement("p",null,i.a.createElement("strong",null,"Fecha creacion de Orden:")," ",this.state.fecha_creacion_orden),""===this.state.id_device_order?"":i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("strong",null,"Estado: "),this.state.estado[this.state.datos_device.estado]),i.a.createElement("p",null,i.a.createElement("strong",null,"Prende: "),!0===this.state.datos_device.prende?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Estaba mojado: "),!0===this.state.datos_device.mojado?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Andaba Boton Volumen: "),!0===this.state.datos_device.volume_button?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Andaba Microfono: "),!0===this.state.datos_device.mic?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Andaban Altavoces: "),!0===this.state.datos_device.altavoces?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Andaba Boton bloqueo: "),!0===this.state.datos_device.lock_button?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Estetica General: "),!0===this.state.datos_device.estetica_general?"Bien":"Mal"),i.a.createElement("p",null,i.a.createElement("strong",null,"Touch Id: "),!0===this.state.datos_device.touch_id?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Display Frontal: "),!0===this.state.datos_device.display_frontal?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Camara Frontal: "),!0===this.state.datos_device.camara_frontal?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Camara Trasera: "),!0===this.state.datos_device.camara_trasera?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Boton Silencio: "),!0===this.state.datos_device.mute_button?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Sensor Proximidad: "),!0===this.state.datos_device.sensor_proximidad?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Pin de Carga: "),!0===this.state.datos_device.pin_carga?"Si":"No"),i.a.createElement("p",null,i.a.createElement("strong",null,"Observacines Generales: "),this.state.datos_device.observaciones_generales),this.isDelivered()?i.a.createElement("p",null,i.a.createElement("strong",null,"Entregado el: "),new Date(this.state.deliver_date).toLocaleString()):i.a.createElement(x,null,i.a.createElement("select",{onChange:this.handleInputChange,name:"nuevo_estado_orden",value:this.state.nuevo_estado_orden},i.a.createElement("option",{value:"-1"},"Cambiar de estado"),i.a.createElement("option",{value:"T"},"Tramite"),i.a.createElement("option",{value:"F"},"Finalizada"),i.a.createElement("option",{value:"E"},"Entregada")),i.a.createElement("button",{onClick:this.changeOrderState},"Cambiar de Estado")))),i.a.createElement("div",{className:"wrapper-single-order-servicios"},i.a.createElement("h2",null,"Servicios"),this.state.arreglo_servicios.map(function(t){return i.a.createElement("div",{className:"wrapper-single-order-servicios-item"},i.a.createElement("p",null,i.a.createElement("strong",null,"Servicio: "),t.nombre_servicio," en ",t.oficina_servicio),i.a.createElement("p",null,i.a.createElement("strong",null,"Monto: "),"$",t.monto),i.a.createElement("p",null,i.a.createElement("strong",null,"Estado: "),t.estado),"NF"===t.estado?i.a.createElement("button",{onClick:function(){return e.markAsFinished(t.sale_service_url)}},"Marcar como terminado"):"",e.isDelivered()?i.a.createElement("p",null,i.a.createElement("strong",null,"Garantia hasta: "),e.getFinGarantia(t.tiempo_en_garantia)):i.a.createElement("button",{onClick:function(){return e.removeServiceFromOrder(t.sale_service_url)}},"Eliminar Servicio de orden"))}),i.a.createElement("p",null,i.a.createElement("strong",null,"Total en Servicios Ya en Orden: "),"$",this.state.monto_total_servicios_en_orden)),i.a.createElement("div",{className:"wrapper-single-order-productos"},i.a.createElement("h2",null,"Productos"),this.state.arreglo_productos.map(function(t){return i.a.createElement("div",{className:"wrapper-single-order-servicios-item"},i.a.createElement("p",null,i.a.createElement("strong",null,"Producto: "),t.nombre_producto," en ",t.direccion_oficina),i.a.createElement("p",null,i.a.createElement("strong",null,"Monto: "),"$",t.monto),i.a.createElement("p",null,i.a.createElement("strong",null,"Cantidad: "),t.cantidad),e.isDelivered()?"":i.a.createElement("button",{onClick:function(){return e.removeProductFromOrder(t.url)}},"Eliminar Producto de orden"))}),i.a.createElement("p",null,i.a.createElement("strong",null,"Total en Productos Ya en Orden: "),"$",this.state.monto_total_productos_en_orden)),this.isDelivered()||""===this.state.id_device_order?"":i.a.createElement("div",{className:"wrapper-single-order-newservice"},i.a.createElement("h2",null,"Agregar Servicio a la orden"),i.a.createElement("select",{onChange:this.handleInputChange,name:"servicio_actual",value:this.state.servicio_actual},i.a.createElement("option",{value:"-1"},"Seleccionar Servicio"),this.state.arreglo_servicios_venta.map(function(t){return i.a.createElement("option",{disabled:e.isDisabledService(t.id_servicio),value:t.id_servicio},t.nombre)})),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("select",{onChange:this.handleInputChange,name:"oficina_servicio_actual",value:this.state.oficina_servicio_actual},i.a.createElement("option",{value:"-1"},"Seleccionar Oficina donde se realiza"),this.state.arreglo_servicios_venta.map(function(t){return t.id_servicio==e.state.servicio_actual?t.oficina.map(function(e){return i.a.createElement("option",{value:e.url_direccion},e.direccion," ($",e.precio,")")}):""})),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.addServiceToOrder},"Agregar"),i.a.createElement("h3",null,"Resumen Servicios Agregados"),this.state.listado_servicios_agregar_orden.map(function(t){return i.a.createElement("p",null,t.nombre," en ",t.direccion_oficina,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("input",{onChange:function(a){return e.updateAmountServiceOrder(a,t.id)},type:"number",value:t.quantity_sold})," $",i.a.createElement("input",{type:"number",value:t.monto,onChange:function(a){return e.changeMontoServiceinOrder(a,t.id)}})," ($",t.precio_unitario,") ",i.a.createElement("button",{onClick:function(){return e.removeItemServicios(t.id)}},"X"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"Garantia Hasta:")," ",e.getWarrantyDate(t.garantia))}),i.a.createElement("button",{onClick:this.confirmNewServices},"Confirmar"),i.a.createElement("p",null,i.a.createElement("strong",null,"Total en Servicios Agregados: "),"$",this.state.monto_total_servicios_nuevos)),this.isDelivered()?"":i.a.createElement("div",{className:"wrapper-single-order-newproduct"},i.a.createElement("h2",null,"Agregar Producto a la orden"),i.a.createElement("select",{onChange:this.handleInputChange,name:"producto_actual",value:this.state.producto_actual},i.a.createElement("option",{value:"-1"},"Seleccionar Productos"),this.state.arreglo_productos_venta.map(function(t){return i.a.createElement("option",{key:t.id_producto,disabled:e.isInArray(t.id_producto),value:t.id_producto},t.nombre," ($",t.oficinas.precio,") en ",t.oficinas.direccion)})),i.a.createElement("button",{onClick:function(t){return e.addProductToOrder(t)}},"Agregar"),i.a.createElement("h3",null,"Resumen Productos Agregados"),this.state.listado_productos_agregar_orden.map(function(t){return i.a.createElement("p",null,t.nombre," ",i.a.createElement("input",{onChange:function(a){return e.updateAmountProductOrder(a,t.id)},type:"number",value:t.quantity_sold})," $",i.a.createElement("input",{type:"number",value:t.monto,onChange:function(a){return e.changeMontoProductinOrder(a,t.id)}})," ($",t.precio_unitario,") ",i.a.createElement("button",{onClick:function(){return e.removeItemProductos(t.id)}},"X"))}),i.a.createElement("button",{onClick:this.confirmNewProducts},"Confirmar"),i.a.createElement("p",null,i.a.createElement("strong",null,"Total en Productos Agregados: "),"$",this.state.monto_total_productos_nuevos)),i.a.createElement("div",{className:"wrapper-single-order-payments"},i.a.createElement("h2",null,"Monto del pedido"),i.a.createElement("p",null,i.a.createElement("strong",null,"Total a pagar por servicios: "),"$",this.state.monto_total_servicios_en_orden+this.state.monto_total_servicios_nuevos),i.a.createElement("p",null,i.a.createElement("strong",null,"Total a pagar por productos: "),"$",this.state.monto_total_productos_nuevos+this.state.monto_total_productos_en_orden),i.a.createElement("p",null,i.a.createElement("strong",null,"Total: "),"$",this.state.monto_total_servicios_en_orden+this.state.monto_total_servicios_nuevos+this.state.monto_total_productos_nuevos+this.state.monto_total_productos_en_orden),i.a.createElement("h2",null,"Pagos Realizados"),this.state.pagos_realizados.map(function(e){return i.a.createElement("p",null,i.a.createElement("strong",null,"Forma de pago: "),e.tipo," - ",i.a.createElement("strong",null,"Monto: "),"$",e.monto)}),i.a.createElement("h2",null,"Deuda"),i.a.createElement("p",null,i.a.createElement("strong",null,"Monto adeudado: "),"$",this.state.deuda),this.isDelivered()?"":i.a.createElement(x,null,i.a.createElement("label",null,"Cantidad en Efectivo")," ",i.a.createElement("input",{type:"number",min:"0",onChange:this.handleInputChange,name:"efectivo",value:this.state.efectivo}),i.a.createElement("br",null),i.a.createElement("label",null,"Cantidad con Debito")," ",i.a.createElement("input",{type:"number",min:"0",onChange:this.handleInputChange,name:"debito",value:this.state.debito}),i.a.createElement("br",null),i.a.createElement("label",null,"Cantidad con Credito")," ",i.a.createElement("input",{type:"number",min:"0",onChange:this.handleInputChange,name:"credito",value:this.state.credito}),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return e.calculatePagos(100,0,0)}},"Total en efectivo"),i.a.createElement("button",{onClick:function(){return e.calculatePagos(0,100,0)}},"Total en debito"),i.a.createElement("button",{onClick:function(){return e.calculatePagos(0,0,100)}},"Total en credito"),i.a.createElement("button",{onClick:function(){return e.calculatePagos(50,0,50)}},"Mitad en efectivo Mitad Credito"),i.a.createElement("button",{onClick:function(){return e.calculatePagos(0,50,50)}},"Mitad en Debito Mitad en Credito"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.pay},"Confirmar Pago")," ")),i.a.createElement("div",{className:"show-order-routes"},i.a.createElement("h2",null,"Ruta del dispositivo"),this.isDelivered()?i.a.createElement("p",null,"Dispositivo Entregado"):i.a.createElement(x,null,this.state.rutas.map(function(e){return i.a.createElement("p",null,e.destino.direccion===e.origen.direccion?"Dispositivo en "+e.origen.direccion:"Salio de: "+e.origen.direccion+" hacia: "+e.destino.direccion)}),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/rutas/"+this.state.id_device_order},"Editar")))))))}}]),t}(o.Component)),L=(a(84),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",id_orden:"",servicios_en_orden:[],rutas:[],oficina_actual:[],oficinas:[],nueva_ruta:"-1",donde_se_encuentra:""},a.isItThere=a.isItThere.bind(Object(f.a)(Object(f.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a.confirmNewRoute=a.confirmNewRoute.bind(Object(f.a)(Object(f.a)(a))),a.markAsArrived=a.markAsArrived.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({id_orden:t},function(){return e.fetchData()})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(y.a)({},n,a))}},{key:"fetchData",value:function(){this.fetchDataSaleServices(),this.fetchDataRoutes(),this.fetchOffices()}},{key:"fetchDataSaleServices",value:function(){var e=this,t=[];j.a.get(this.state.url+"/saleservices/?order="+this.state.id_orden).then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[a]=[],t[a].url_service_office=n.data[a].service_office,t[a].estado_servicio=n.data[a].state,t[a].servicio=[],t[a].servicio.oficina=[],e.next=7,j.a.get(n.data[a].service_office).then(function(){var e=Object(k.a)(E.a.mark(function e(n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[a].servicio.oficina.direccion=n.data.office_detail.address,t[a].servicio.oficina.id=n.data.office_detail.id,e.next=4,j.a.get(n.data.service).then(function(e){t[a].servicio.nombre=e.data.name});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}},e)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:e.setState({servicios_en_orden:t});case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"fetchDataRoutes",value:function(){var e=this,t=[];j.a.get(this.state.url+"/route/?order="+this.state.id_orden).then(function(){var a=Object(k.a)(E.a.mark(function a(n){var o,i;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=E.a.mark(function a(o){var i,r;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t[o]=[],t[o].origen=[],t[o].destino=[],t[o].notas=n.data[o].notes,t[o].finished=n.data[o].finished,t[o].usuario=n.data[o].user,t[o].ruta_url=n.data[o].url,t[o].fecha=new Date(n.data[o].creation_date).toLocaleString(),t[o].llego=n.data[o].finished,n.data[o].source_office!==n.data[o].destination_office){a.next=14;break}return a.next=12,j.a.get(n.data[o].source_office).then(function(a){if(o===n.data.length-1){var i=[];i.id=a.data.id,i.direccion=a.data.address,e.setState({donde_se_encuentra:a.data.address,oficina_actual:a.data.id})}t[o].origen.direccion=a.data.address,t[o].destino.direccion=a.data.address});case 12:a.next=21;break;case 14:return i=!1,r=!1,o===n.data.length-1&&(i=!0,n.data[o].finished&&(r=!0)),a.next=19,j.a.get(n.data[o].source_office).then(function(a){if(t[o].origen.direccion=a.data.address,i&&!r){var n=[];n.id=a.data.id,n.direccion=a.data.address,e.setState({donde_se_encuentra:"En viaje",oficina_actual:a.data.id})}});case 19:return a.next=21,j.a.get(n.data[o].destination_office).then(function(a){if(t[o].destino.direccion=a.data.address,i&&r){var n=[];n.id=a.data.id,n.direccion=a.data.address,e.setState({donde_se_encuentra:a.data.address,oficina_actual:a.data.id})}});case 21:case"end":return a.stop()}},a)}),i=0;case 2:if(!(i<n.data.length)){a.next=7;break}return a.delegateYield(o(i),"t0",4);case 4:i++,a.next=2;break;case 7:e.setState({rutas:t});case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"fetchOffices",value:function(){var e=this,t=[];j.a.get(this.state.url+"/offices/").then(function(a){for(var n=0;n<a.data.length;n++)t[n]=[],t[n].id=a.data[n].id,t[n].direccion=a.data[n].address;e.setState({oficinas:t})})}},{key:"isItThere",value:function(e){return e===this.state.oficina_actual}},{key:"confirmNewRoute",value:function(){for(var e=this,t=!0,a=0;a<this.state.rutas.length;a++)this.state.rutas[a].finished||(t=!1);t?j.a.post(this.state.url+"/route/",{source_office:this.state.url+"/offices/"+this.state.oficina_actual+"/",destination_office:this.state.url+"/offices/"+this.state.nueva_ruta+"/",order:this.state.url+"/device_orders/"+this.state.id_orden+"/",notes:"Ruta agregada",user:this.state.url+"/users/"+sessionStorage.getItem("id")+"/"}).then(function(t){e.fetchDataRoutes()}):alert("No puedes ingresar una ruta nueva sin que el dispositivo llegue a la anterior")}},{key:"markAsArrived",value:function(e){var t=this;j.a.patch(e,{finished:!0}).then(function(e){t.fetchDataRoutes()})}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-edit-routes"},i.a.createElement("div",{className:"wrapper-edit-routes-container"},i.a.createElement("h2",null,"Rutas"),this.state.rutas.map(function(t,a){return i.a.createElement("div",null,t.destino.direccion===t.origen.direccion?i.a.createElement("p",null,a+1," - Dispositivo en ",i.a.createElement("strong",null,t.origen.direccion)," - Fecha: ",t.fecha):i.a.createElement("p",null,a+1," - ",i.a.createElement("strong",null,"Salio de:")," ",t.origen.direccion," el ",t.fecha," ",i.a.createElement("strong",null,"Hacia:")," ",t.destino.direccion," ",i.a.createElement("strong",null,"Llego?")," ",t.llego?i.a.createElement("span",null,"Si"):i.a.createElement("span",null,"No ",i.a.createElement("button",{onClick:function(){return e.markAsArrived(t.ruta_url)}},"Marcar que llego"))," "),"  ")}),i.a.createElement("p",null,"Se encuentra actualmente en ",i.a.createElement("strong",null,this.state.donde_se_encuentra)),i.a.createElement("h2",null,"Lugares de servicio"),this.state.servicios_en_orden.map(function(e){return i.a.createElement("p",null,"Este dispositivo deberia hacerse ",i.a.createElement("strong",null,e.servicio.nombre)," en ",e.servicio.oficina.direccion)}),i.a.createElement("select",{name:"nueva_ruta",value:this.state.nueva_ruta,onChange:this.handleInputChange},i.a.createElement("option",{value:"-1"},"Seleccionar oficina destino"),this.state.oficinas.map(function(t){return i.a.createElement("option",{disabled:e.isItThere(t.id),value:t.id},t.direccion)})),i.a.createElement("button",{onClick:this.confirmNewRoute},"Confirmar"))))}}]),t}(o.Component)),Y=(a(85),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",stock:[],stock_filtrado:[],oficinas:[],filter_oficina:"-1",filter_producto:""},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a.handleStockChange=a.handleStockChange.bind(Object(f.a)(Object(f.a)(a))),a.updateStock=a.updateStock.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,o=a.name;this.setState(Object(y.a)({},o,n),function(){return t.filter()})}},{key:"handleStockChange",value:function(e){for(var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name,o=this.state.stock,i=0;i<o.length;i++)o[i].url_stock===n&&(o[i].nuevo_stock=a);this.setState({stock:o})}},{key:"updateStock",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.stock,a=0;case 2:if(!(a<t.length)){e.next=9;break}if(!(null!=t[a].nuevo_stock&&t[a].nuevo_stock>0)){e.next=6;break}return e.next=6,j.a.patch(t[a].url_stock,{in_stock:t[a].nuevo_stock});case 6:a++,e.next=2;break;case 9:this.getStock();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"filter",value:function(){var e=this.state.stock,t=this.state.filter_oficina,a=this.state.filter_producto;"-1"!=t&&(e=e.filter(function(e){return e.office_address==t})),""!=a&&(e=e.filter(function(e){return e.nombre.toLowerCase().includes(a.toLowerCase())})),this.setState({stock_filtrado:e})}},{key:"componentDidMount",value:function(){this.getStock(),this.getOffices()}},{key:"getOffices",value:function(){var e=this,t=[];j.a.get(this.state.url+"/offices/").then(function(a){for(var n=0;n<a.data.length;n++)t[n]=a.data[n];e.setState({oficinas:t})})}},{key:"getStock",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,j.a.get(this.state.url+"/stock/").then(function(){var e=Object(k.a)(E.a.mark(function e(a){var n,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=E.a.mark(function e(n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t[n]=[],t[n].url_stock=a.data[n].url,t[n].url_componente=a.data[n].component,t[n].office=a.data[n].office,t[n].in_stock=a.data[n].in_stock,e.next=7,j.a.get(a.data[n].office).then(function(e){t[n].office_address=e.data.address});case 7:return e.next=9,j.a.get(a.data[n].component).then(function(e){t[n].nombre=e.data.name});case 9:case"end":return e.stop()}},e)}),o=0;case 2:if(!(o<a.data.length)){e.next=7;break}return e.delegateYield(n(o),"t0",4);case 4:o++,e.next=2;break;case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:this.setState({stock:t,stock_filtrado:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-stock"},i.a.createElement("button",{onClick:this.updateStock,style:{padding:"10px",margin:"20px 0px"}},"Ajustar stock"),i.a.createElement("h3",null,"Stock"),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/new-component"},"Agregar Componente")),i.a.createElement("hr",null),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/new-product"},"Agregar Producto"))," ",i.a.createElement("a",null,i.a.createElement(l.b,{to:"/products"},"Listado Productos")),i.a.createElement("br",null),i.a.createElement("a",null,i.a.createElement(l.b,{to:"/new-service"},"Agregar Servicio (Arreglos)"))," ",i.a.createElement("a",null,i.a.createElement(l.b,{to:"/servicios"},"Listado Servicios")),i.a.createElement("select",{onChange:this.handleInputChange,name:"filter_oficina",value:this.state.filter_oficina},i.a.createElement("option",{value:"-1"},"Filtro por oficina"),this.state.oficinas.map(function(e){return i.a.createElement("option",{value:e.address},e.address)})),i.a.createElement("input",{type:"text",name:"filter_producto",value:this.state.filter_producto,onChange:this.handleInputChange,placeholder:"Filtro producto"}),this.state.stock_filtrado.map(function(t){return i.a.createElement("div",{className:"wrapper-stock-item"},i.a.createElement("p",null,i.a.createElement("strong",null,t.nombre)," - ",i.a.createElement("strong",null,"En stock:"),t.in_stock," - ",i.a.createElement("strong",null,"En oficina:"),t.office_address," ",i.a.createElement("input",{type:"number",name:t.url_stock,min:"0",onChange:e.handleStockChange})))})))}}]),t}(o.Component)),H=(a(86),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",components:[],nombre_producto:"",dias_garantia:0,componentes_en_producto:[],componente_actual_select:"-1",oficinas:[],precio:0,oficinas_disponibles:[],redirect:!1},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a.addComponent=a.addComponent.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchComponents(),this.fetchOffices()}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;if("checkbox"===t.type){for(var o=this.state.oficinas,i=0;i<o.length;i++)o[i].direccion===n&&(o[i].checked=a);this.setState({oficinas:o})}this.setState(Object(y.a)({},n,a))}},{key:"isInArray",value:function(e){for(var t=0;t<this.state.componentes_en_producto.length;t++)if(this.state.componentes_en_producto[t].component==e)return!0;return!1}},{key:"fetchComponents",value:function(){var e=this;j.a.get(this.state.url+"/components/").then(function(t){for(var a=[],n=0;n<t.data.length;n++)a[n]=[],a[n].url=t.data[n].url,a[n].id=t.data[n].id,a[n].name=t.data[n].name;e.setState({components:a})})}},{key:"fetchOffices",value:function(){var e=this;j.a.get(this.state.url+"/offices/").then(function(t){for(var a=[],n=0;n<t.data.length;n++)a[n]=[],a[n].id=t.data[n].id,a[n].url=t.data[n].url,a[n].direccion=t.data[n].address,a[n].checked=!0;e.setState({oficinas:a})})}},{key:"addComponent",value:function(e){e.preventDefault();var t=this.state.componente_actual_select,a=this.state.componentes_en_producto,n=a.length;if("-1"===t)alert("Debes seleccionar un componente");else{a[n]={},a[n].component=t,a[n].quantity=1;for(var o=0;o<this.state.components.length;o++)this.state.components[o].id==t&&(a[n].nombre=this.state.components[o].name);this.setState({componente_actual_select:"-1"})}this.setState({componentes_en_producto:a})}},{key:"addProduct",value:function(e){var t=this;e.preventDefault();var a=!0,n=this.state.componentes_en_producto;if(""===this.state.nombre_producto||""===this.state.dias_garantia)alert("No dejar campos vacios"),a=!1;else if(0===n.length){window.confirm("Esta por agregar un producto sin componentes, esta seguro?")||(a=!1)}a&&(console.log(this.state.oficinas_disponibles),j.a.post(this.state.url+"/products/",{name:this.state.nombre_producto,warranty_period:this.state.dias_garantia,product_composition:n}).then(function(e){for(var a=0;a<t.state.oficinas.length;a++)t.state.oficinas[a].checked&&j.a.post(t.state.url+"/product_office/",{price_per_unit:t.state.precio,active_for_sale:!0,office:t.state.oficinas[a].url,product:e.data.url}).then(function(e){t.setState({redirect:!0})})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,this.state.redirect?i.a.createElement(s.a,{to:"/stock/"}):"",i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-newproduct"},i.a.createElement("form",null,i.a.createElement("input",{type:"text",name:"nombre_producto",value:this.state.nombre_producto,placeholder:"Nombre Producto",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("label",null,"Dias de garantia"),i.a.createElement("br",null),i.a.createElement("input",{type:"number",name:"dias_garantia",value:this.state.dias_garantia,placeholder:"Dias de Garantia",onChange:this.handleInputChange}),i.a.createElement("select",{name:"componente_actual_select",value:this.state.componente_actual_select,onChange:this.handleInputChange},i.a.createElement("option",{value:"-1"},"Seleccionar componentes"),this.state.components.map(function(t){return i.a.createElement("option",{disabled:e.isInArray(t.id),value:t.id},t.name)})),this.state.componentes_en_producto.map(function(e){return i.a.createElement("p",null,e.nombre)}),i.a.createElement("button",{onClick:function(t){return e.addComponent(t)}},"Agregar componente a producto"),i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("h3",null,"Oficinas en la que esta disponible"),this.state.oficinas.map(function(t){return i.a.createElement("p",null,i.a.createElement("input",{onChange:e.handleInputChange,type:"checkbox",name:t.direccion,checked:t.checked}),t.direccion," ")}),i.a.createElement("label",null,"Precio de venta"),i.a.createElement("br",null),i.a.createElement("input",{type:"number",value:this.state.precio,min:"0",onChange:this.handleInputChange,placeholder:"Precio de Venta",name:"precio"}),i.a.createElement("button",{onClick:function(t){return e.addProduct(t)}},"Agregar Producto"))))}}]),t}(o.Component)),V=(a(87),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",listado_productos:[]},a.updatePrices=a.updatePrices.bind(Object(f.a)(Object(f.a)(a))),a.handlePriceChange=a.handlePriceChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchProducts()}},{key:"updatePrices",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.listado_productos,a=0;case 2:if(!(a<t.length)){e.next=14;break}if(!(null!=t[a].nuevo_precio&&t[a].nuevo_precio>0)){e.next=11;break}n=0;case 5:if(!(n<t[a].oficinas.length)){e.next=11;break}return e.next=8,j.a.patch(t[a].oficinas[n].url_product_office,{price_per_unit:t[a].nuevo_precio});case 8:n++,e.next=5;break;case 11:a++,e.next=2;break;case 14:this.fetchProducts();case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handlePriceChange",value:function(e){for(var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name,o=this.state.listado_productos,i=0;i<o.length;i++)o[i].id_producto==n&&(o[i].nuevo_precio=a);this.setState({listado_productos:o})}},{key:"fetchProducts",value:function(){var e=this,t=[];j.a.get(this.state.url+"/products/").then(function(a){for(var n=0;n<a.data.length;n++){t[n]=[],t[n].nombre=a.data[n].name,t[n].composicion=[],t[n].oficinas=[],t[n].id_producto=a.data[n].id,t[n].url_producto=a.data[n].url;for(var o=0;o<a.data[n].product_composition.length;o++)t[n].composicion[o]=[],t[n].composicion[o].id_componente=a.data[n].product_composition[o].component_detail.id,t[n].composicion[o].url_componente=a.data[n].product_composition[o].component_detail.url,t[n].composicion[o].nombre_componente=a.data[n].product_composition[o].component_detail.name,t[n].composicion[o].cantidad=a.data[n].product_composition[o].quantity;for(var i=0;i<a.data[n].product_office.length;i++)t[n].oficinas[i]=[],t[n].oficinas[i].direccion=a.data[n].product_office[i].office_detail.address,t[n].oficinas[i].precio=a.data[n].product_office[i].price_per_unit,t[n].oficinas[i].url_product_office=a.data[n].product_office[i].url}e.setState({listado_productos:t})})}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-stock"},i.a.createElement("button",{onClick:this.updatePrices},"Actualizar Precios"),i.a.createElement("h2",null,"Listado productos"),i.a.createElement("hr",null),this.state.listado_productos.map(function(t){return i.a.createElement("div",{className:"wrapper-stock-item"},i.a.createElement("p",null,i.a.createElement("strong",null,"Producto: "),t.nombre),t.composicion.map(function(e){return i.a.createElement("p",null,i.a.createElement("strong",null,"Componente que utiliza: "),e.nombre_componente)}),i.a.createElement("p",null,i.a.createElement("strong",null,"Oficinas")),t.oficinas.map(function(e){return i.a.createElement("p",null,e.direccion," - $",e.precio)}),i.a.createElement("input",{type:"number",min:"0",onChange:e.handlePriceChange,name:t.id_producto}))})))}}]),t}(o.Component)),G=(a(88),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",components:[],nombre_producto:"",dias_garantia:0,componentes_en_producto:[],componente_actual_select:"-1",oficinas:[],precio:0,oficinas_disponibles:[]},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a.addComponent=a.addComponent.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchComponents(),this.fetchOffices()}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;if("checkbox"===t.type){for(var o=this.state.oficinas,i=0;i<o.length;i++)o[i].direccion===n&&(o[i].checked=a);this.setState({oficinas:o})}this.setState(Object(y.a)({},n,a))}},{key:"isInArray",value:function(e){for(var t=0;t<this.state.componentes_en_producto.length;t++)if(this.state.componentes_en_producto[t].component==e)return!0;return!1}},{key:"fetchComponents",value:function(){var e=this;j.a.get(this.state.url+"/components/").then(function(t){for(var a=[],n=0;n<t.data.length;n++)a[n]=[],a[n].url=t.data[n].url,a[n].id=t.data[n].id,a[n].name=t.data[n].name;e.setState({components:a})})}},{key:"fetchOffices",value:function(){var e=this;j.a.get(this.state.url+"/offices/").then(function(t){for(var a=[],n=0;n<t.data.length;n++)a[n]=[],a[n].id=t.data[n].id,a[n].url=t.data[n].url,a[n].direccion=t.data[n].address,a[n].checked=!0;e.setState({oficinas:a})})}},{key:"addComponent",value:function(e){e.preventDefault();var t=this.state.componente_actual_select,a=this.state.componentes_en_producto,n=a.length;if("-1"===t)alert("Debes seleccionar un componente");else{a[n]={},a[n].component=t,a[n].quantity=1;for(var o=0;o<this.state.components.length;o++)this.state.components[o].id==t&&(a[n].nombre=this.state.components[o].name);this.setState({componente_actual_select:"-1"})}this.setState({componentes_en_producto:a})}},{key:"addProduct",value:function(e){var t=this;e.preventDefault();var a=!0,n=this.state.componentes_en_producto;if(""===this.state.nombre_producto||""===this.state.dias_garantia)alert("No dejar campos vacios"),a=!1;else if(0===n.length){window.confirm("Esta por agregar un servicio sin componentes, esta seguro?")||(a=!1)}a&&(console.log(this.state.oficinas_disponibles),j.a.post(this.state.url+"/services/",{name:this.state.nombre_producto,warranty_period:this.state.dias_garantia,service_composition:n,service_type:"http://127.0.0.1:8000/service_type/1/"}).then(function(e){for(var a=0;a<t.state.oficinas.length;a++)t.state.oficinas[a].checked&&j.a.post(t.state.url+"/service_office/",{price_per_unit:t.state.precio,active_for_sale:!0,office:t.state.oficinas[a].url,service:e.data.url})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-newproduct"},i.a.createElement("form",null,i.a.createElement("input",{type:"text",name:"nombre_producto",value:this.state.nombre_producto,placeholder:"Nombre Servicio",onChange:this.handleInputChange}),i.a.createElement("br",null),i.a.createElement("label",null,"Dias de garantia"),i.a.createElement("br",null),i.a.createElement("input",{type:"number",name:"dias_garantia",value:this.state.dias_garantia,placeholder:"Dias de Garantia",onChange:this.handleInputChange}),i.a.createElement("select",{name:"componente_actual_select",value:this.state.componente_actual_select,onChange:this.handleInputChange},i.a.createElement("option",{value:"-1"},"Seleccionar componentes"),this.state.components.map(function(t){return i.a.createElement("option",{disabled:e.isInArray(t.id),value:t.id},t.name)})),this.state.componentes_en_producto.map(function(e){return i.a.createElement("p",null,e.nombre)}),i.a.createElement("button",{onClick:function(t){return e.addComponent(t)}},"Agregar componentes al servicio"),i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("h3",null,"Oficinas en la que esta disponible"),this.state.oficinas.map(function(t){return i.a.createElement("p",null,i.a.createElement("input",{onChange:e.handleInputChange,type:"checkbox",name:t.direccion,checked:t.checked}),t.direccion," ")}),i.a.createElement("label",null,"Precio de venta"),i.a.createElement("br",null),i.a.createElement("input",{type:"number",value:this.state.precio,min:"0",onChange:this.handleInputChange,placeholder:"Precio de Venta",name:"precio"}),i.a.createElement("button",{onClick:function(t){return e.addProduct(t)}},"Agregar Servicio"))))}}]),t}(o.Component)),U=(a(89),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",servicios:[]},a.handlePriceChange=a.handlePriceChange.bind(Object(f.a)(Object(f.a)(a))),a.updatePrices=a.updatePrices.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getServices()}},{key:"updatePrices",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.servicios,a=0;case 2:if(!(a<t.length)){e.next=14;break}if(!(null!=t[a].nuevo_precio&&t[a].nuevo_precio>0)){e.next=11;break}n=0;case 5:if(!(n<t[a].oficinas.length)){e.next=11;break}return e.next=8,j.a.patch(t[a].oficinas[n].service_office_url,{price_per_unit:t[a].nuevo_precio});case 8:n++,e.next=5;break;case 11:a++,e.next=2;break;case 14:this.getServices();case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handlePriceChange",value:function(e){for(var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name,o=this.state.servicios,i=0;i<o.length;i++)o[i].id==n&&(o[i].nuevo_precio=a);this.setState({servicios:o})}},{key:"getServices",value:function(){var e=this,t=[];j.a.get(this.state.url+"/services/").then(function(a){for(var n=0;n<a.data.length;n++){t[n]=[],t[n].id=a.data[n].id,t[n].nombre_servicio=a.data[n].name,t[n].garantia=a.data[n].warranty_period,t[n].componentes=[],t[n].oficinas=[];for(var o=0;o<a.data[n].service_composition.length;o++)t[n].componentes[o]=[],t[n].componentes[o].nombre_componente=a.data[n].service_composition[o].service_detail.name;for(var i=0;i<a.data[n].service_office.length;i++)t[n].oficinas[i]=[],t[n].oficinas[i].service_office_url=a.data[n].service_office[i].url,t[n].oficinas[i].precio=a.data[n].service_office[i].price_per_unit,t[n].oficinas[i].oficina=a.data[n].service_office[i].office_detail.address}console.log(t),e.setState({servicios:t})})}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-listado-servicios"},i.a.createElement("button",{onClick:this.updatePrices},"Actualizar precio"),this.state.servicios.map(function(t){return i.a.createElement("div",{className:"listado-servicios-item"},i.a.createElement("h3",null,i.a.createElement("strong",null,t.nombre_servicio)),i.a.createElement("p",null,i.a.createElement("strong",null,"Componentes:")),t.componentes.map(function(e){return i.a.createElement("p",null,e.nombre_componente)}),i.a.createElement("p",null,i.a.createElement("strong",null,"Oficinas")),t.oficinas.map(function(e){return i.a.createElement("p",null,e.oficina," - $",e.precio)}),i.a.createElement("label",null,"Cambiar precio "),"$",i.a.createElement("input",{type:"number",min:"0",onChange:e.handlePriceChange,name:t.id}),i.a.createElement("hr",null))})))}}]),t}(o.Component)),W=(a(90),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",nombre_componente:"",oficinas:[]},a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a.addComponent=a.addComponent.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getOffices()}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;if("nombre_componente"!=n){for(var o=this.state.oficinas,i=0;i<o.length;i++)n==o[i].id&&(o[i].stock=a);this.setState({oficinas:o})}this.setState(Object(y.a)({},n,a))}},{key:"getOffices",value:function(){var e=this,t=[];j.a.get(this.state.url+"/offices/").then(function(a){for(var n=0;n<a.data.length;n++)t[n]=[],t[n].direccion=a.data[n].address,t[n].url=a.data[n].url,t[n].id=a.data[n].id;e.setState({oficinas:t})})}},{key:"addComponent",value:function(){for(var e=this,t=!0,a=this.state.oficinas,n=0;n<a.length;n++)if(a[n].stock<0||""===a[n].stock||""===this.state.nombre_componente){t=!1;break}t?j.a.post(this.state.url+"/components/",{name:this.state.nombre_componente}).then(function(t){for(var n=t.data.url,o=0;o<a.length;o++)j.a.post(e.state.url+"/stock/",{in_stock:a[o].stock,component:n,office:a[o].url})}):alert("Revisar todos los campos")}},{key:"render",value:function(){var e=this;return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-new-component"},i.a.createElement("h2",null,"Nuevo componente"),i.a.createElement("input",{type:"text",name:"nombre_componente",value:this.state.nombre_componente,onChange:this.handleInputChange,placeholder:"Nombre componente"}),this.state.oficinas.map(function(t){return i.a.createElement("p",null,t.direccion," ",i.a.createElement("input",{onChange:e.handleInputChange,type:"number",name:t.id,placeholder:"Cantidad en stock"}))}),i.a.createElement("button",{onClick:this.addComponent},"Agregar Componente")))}}]),t}(o.Component)),X=(a(91),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",device_id:"",imei:"",clave:"",color:"",modelo:"",notas:"",capacity:"",ordenes_urls:[],arreglo_ordenes:[],cliente_url:"",nombre_cliente:"",dni_cliente:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({device_id:t},function(){return e.fetchData()})}},{key:"fetchData",value:function(){var e=this;j.a.get(this.state.url+"/devices/"+this.state.device_id).then(function(t){e.setState({imei:t.data.imei,clave:t.data.password,capacity:t.data.capacity,modelo:t.data.modelinfo.name,color:t.data.color,notas:t.data.notes,cliente_url:t.data.current_owner,ordenes_urls:t.data.device_order},function(){return e.getExtraData()})})}},{key:"getExtraData",value:function(){this.getClientData(),this.getOrders()}},{key:"getClientData",value:function(){var e=this;j.a.get(this.state.cliente_url).then(function(t){e.setState({nombre_cliente:t.data.name,dni_cliente:t.data.person_id})})}},{key:"getOrders",value:function(){var e=Object(k.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(this.state.ordenes_urls),t=[],a=0;a<this.state.ordenes_urls.length;a++)t[this.state.ordenes_urls.length-(a+1)]=[],t[this.state.ordenes_urls.length-(a+1)].sale=this.state.ordenes_urls[a].sale,t[this.state.ordenes_urls.length-(a+1)].estado=this.state.ordenes_urls[a].state;this.setState({arreglo_ordenes:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-single-device"},i.a.createElement("div",{className:"info-device"},i.a.createElement("p",null,i.a.createElement("strong",null,"Modelo:"),this.state.modelo," - ",this.state.capacity,"GB"),i.a.createElement("p",null,i.a.createElement("strong",null,"Color:"),this.state.color),i.a.createElement("p",null,i.a.createElement("strong",null,"Clave:"),this.state.clave),i.a.createElement("p",null,i.a.createElement("strong",null,"Cliente:"),this.state.nombre_cliente," (",this.state.dni_cliente,")"),i.a.createElement("p",null,i.a.createElement("strong",null,"Notas:"),this.state.notas),i.a.createElement("p",null,i.a.createElement("strong",null,"IMEI:"),this.state.imei),i.a.createElement("p",null,i.a.createElement("strong",null,"Ordenes:")),this.state.arreglo_ordenes.map(function(e){return i.a.createElement("a",null,i.a.createElement(l.b,{to:"/ventas/"+e.sale},i.a.createElement("p",null,e.sale," - Estado: ",e.estado)))}))))}}]),t}(o.Component)),q=(a(92),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={url:"http://api.mycenter.rubick.co",ultimoCierre:0,montoTransaccionesEfectivo:0,montoTransaccionesDebito:0,montoTransaccionesCredito:0,transacciones_efectivo:[],transacciones_debito:[],transacciones_credito:[],fechaUltimoCierre:"",monto_movimiento:0,tipo_nuevo_movimiento:"-1",user_entity:"",office_entity_url:""},a.addMovimientoCaja=a.addMovimientoCaja.bind(Object(f.a)(Object(f.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(f.a)(Object(f.a)(a))),a.cerrarCaja=a.cerrarCaja.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getEntities(),this.getLastCierreCaja()}},{key:"getEntities",value:function(){var e=this;j.a.get(this.state.url+"/auth/user/").then(function(t){e.setState({user_entity:t.data.entity.id})}),j.a.get(this.state.url+"/offices/"+sessionStorage.getItem("oficina")+"/").then(function(t){e.setState({office_entity_url:t.data.entity})})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(y.a)({},n,a))}},{key:"getTodayTransactions",value:function(){var e=this,t=new Date(this.state.fechaUltimoCierre).toISOString(),a=[],n=[],o=[],i=sessionStorage.getItem("oficina"),r=0,c=0,s=0;j.a.get(this.state.url+"/transactions/?datetime_created__gt="+t+"&office="+i).then(function(t){for(var i=0;i<t.data.length;i++)t.data[i].method===e.state.url+"/payment_methods/1/"?(a[i]=[],a[i].tipo=t.data[i].transaction_type,a[i].monto=t.data[i].amount,a[i].fecha=new Date(t.data[i].transaction_date).toLocaleString(),r="DEP"===t.data[i].transaction_type?r+t.data[i].amount:r-t.data[i].amount):t.data[i].method===e.state.url+"/payment_methods/2/"?(o[i]=[],o[i].tipo=t.data[i].transaction_type,o[i].monto=t.data[i].amount,o[i].fecha=new Date(t.data[i].transaction_date).toLocaleString(),c="DEP"===t.data[i].transaction_type?c+t.data[i].amount:c-t.data[i].amount):(n[i]=[],n[i].tipo=t.data[i].transaction_type,n[i].monto=t.data[i].amount,n[i].fecha=new Date(t.data[i].transaction_date).toLocaleString(),s="DEP"===t.data[i].transaction_type?s+t.data[i].amount:s-t.data[i].amount);e.setState({montoTransaccionesEfectivo:r,montoTransaccionesDebito:c,montoTransaccionesCredito:s,transacciones_efectivo:a,transacciones_debito:o,transacciones_credito:n})})}},{key:"getLastCierreCaja",value:function(){var e=this,t=sessionStorage.getItem("oficina"),a=0,n="10/10/1990";j.a.get(this.state.url+"/balance_statement/?office="+t).then(function(t){t.data.length>0&&(a=t.data[t.data.length-1].closing_balance,n=t.data[t.data.length-1].creation_date),e.setState({ultimoCierre:a,fechaUltimoCierre:n},function(){return e.getTodayTransactions()})})}},{key:"addMovimientoCaja",value:function(){var e=this,t=!0;"-1"===this.state.tipo_nuevo_movimiento&&(t=!1,alert("Seleccionar tipo de movimiento")),this.state.monto_movimiento<0&&(t=!1,alert("Usar unicamente numeros positivos")),t&&j.a.post(this.state.url+"/transactions/",{transaction_type:this.state.tipo_nuevo_movimiento,method:this.state.url+"/payment_methods/1/",amount:this.state.monto_movimiento,office:this.state.office_entity_url,third:this.state.url+"/entities/"+this.state.user_entity+"/"}).then(function(t){e.setState({monto_movimiento:0,tipo_nuevo_movimiento:"-1"}),e.getLastCierreCaja()})}},{key:"cerrarCaja",value:function(){var e=this,t=window.confirm("Esta por cerra la caja, esta seguro? (Esta accion no se puede deshacer)"),a=Number(this.state.montoTransaccionesEfectivo)+Number(this.state.ultimoCierre);t&&j.a.post(this.state.url+"/balance_statement/",{closing_balance:a,office:this.state.url+"/offices/"+sessionStorage.getItem("oficina")+"/"}).then(function(t){e.getLastCierreCaja()})}},{key:"render",value:function(){return i.a.createElement(x,null,i.a.createElement(g,null),i.a.createElement("div",{className:"wrapper-transacciones"},i.a.createElement("div",{className:"caja-efectivo"},i.a.createElement("h3",null,"Listado de transacciones desde ultimo cierre en efectivo"),this.state.transacciones_efectivo.map(function(e){return i.a.createElement("p",null,i.a.createElement("strong",null,"Tipo: "),"DEP"===e.tipo?"Deposito":"Retiro"," - $",e.monto," - ",e.fecha)}),i.a.createElement("p",null,i.a.createElement("strong",null,"Efectivo en caja desde ultimo cierre: ")," $",this.state.montoTransaccionesEfectivo),i.a.createElement("p",null,i.a.createElement("strong",null,"Ultimo cierre de caja: "),"$",this.state.ultimoCierre," - ",i.a.createElement("strong",null,"Fecha:")," ",new Date(this.state.fechaUltimoCierre).toLocaleString()),i.a.createElement("p",null,i.a.createElement("strong",null,"Resultado: "),"$",Number(this.state.ultimoCierre)+Number(this.state.montoTransaccionesEfectivo)),i.a.createElement("div",{className:"nuevo-movimiento-caja"},i.a.createElement("label",{for:"monto_movimiento"},"Nuevo movimiento caja"),i.a.createElement("select",{onChange:this.handleInputChange,value:this.state.tipo_nuevo_movimiento,name:"tipo_nuevo_movimiento"},i.a.createElement("option",{value:"-1"},"Tipo de movimiento"),i.a.createElement("option",{value:"DEP"},"Deposito"),i.a.createElement("option",{value:"WIT"},"Retiro")),i.a.createElement("input",{min:"0",onChange:this.handleInputChange,name:"monto_movimiento",value:this.state.monto_movimiento,type:"number",placeholder:"Nuevo movimiento de caja"}),i.a.createElement("button",{onClick:this.addMovimientoCaja},"Confirmar Movimiento")),i.a.createElement("hr",null),i.a.createElement("button",{onClick:this.cerrarCaja,id:"cerrar-caja-button"},"Cerrar Caja")),i.a.createElement("div",{className:"caja-credito"},i.a.createElement("h3",null,"Listado de transacciones desde ultimo cierre con credito"),this.state.transacciones_credito.map(function(e){return i.a.createElement("p",null,i.a.createElement("strong",null,"Tipo: "),"DEP"===e.tipo?"Deposito":"Retiro"," - $",e.monto," - ",e.fecha)}),i.a.createElement("p",null,i.a.createElement("strong",null,"Credito total de hoy: ")," $",this.state.montoTransaccionesCredito)),i.a.createElement("div",{className:"caja-debito"},i.a.createElement("h3",null,"Listado de transacciones desde ultimo cierre con debito"),this.state.transacciones_debito.map(function(e){return i.a.createElement("p",null,i.a.createElement("strong",null,"Tipo: "),"DEP"===e.tipo?"Deposito":"Retiro"," - $",e.monto," - ",e.fecha)}),i.a.createElement("p",null,i.a.createElement("strong",null,"Debito Total de hoy: ")," $",this.state.montoTransaccionesDebito))))}}]),t}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(){return null!==sessionStorage.getItem("id")}var J=function(e){var t=e.component,a=Object(n.a)(e,["component"]);return i.a.createElement(s.b,Object.assign({},a,{render:function(e){return Z()?i.a.createElement(t,e):i.a.createElement(s.a,{to:"/login"})}}))},K=i.a.createElement(l.a,null,i.a.createElement("div",null,i.a.createElement(J,{exact:!0,path:"/",component:M}),i.a.createElement(s.b,{path:"/login",component:w}),i.a.createElement(J,{path:"/storechoice",component:D}),i.a.createElement(J,{path:"/home",component:M}),i.a.createElement(J,{path:"/clientes",exact:!0,component:P}),i.a.createElement(J,{path:"/clientes/:id",component:N}),i.a.createElement(J,{path:"/new-client",component:T}),i.a.createElement(J,{path:"/devices/add/:idCliente",component:R}),i.a.createElement(J,{exact:!0,path:"/devices/:id",component:X}),i.a.createElement(J,{path:"/new-venta",component:B}),i.a.createElement(J,{exact:!0,path:"/ventas",component:z}),i.a.createElement(J,{path:"/ventas/:id",component:F}),i.a.createElement(J,{path:"/rutas/:id",component:L}),i.a.createElement(J,{path:"/stock",component:Y}),i.a.createElement(J,{path:"/new-product",component:H}),i.a.createElement(J,{path:"/new-service",component:G}),i.a.createElement(J,{path:"/new-component",component:W}),i.a.createElement(J,{path:"/products",component:V}),i.a.createElement(J,{path:"/caja",component:q}),i.a.createElement(J,{path:"/servicios",component:U})));c.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.2a945a5f.chunk.js.map